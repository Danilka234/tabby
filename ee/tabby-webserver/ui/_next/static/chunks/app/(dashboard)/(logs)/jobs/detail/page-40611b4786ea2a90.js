(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1908],{93634:function(e,s,t){Promise.resolve().then(t.bind(t,77930))},77930:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return v}});var n=t(36164),l=t(3546),r=t(11978),i=t(70787),c=t(97651),a=t.n(c),d=t(99092),o=t.n(d),u=t(40055),x=t(70410),f=t(73492),h=t(81565),m=t(90379),j=t(17484);function v(){var e,s,t;let i=(0,r.useRouter)(),c=(0,r.useSearchParams)(),d=c.get("id"),[{data:f,error:v,fetching:p},N]=(0,u.aM)({query:x.GG,variables:{ids:[d]},pause:!d}),w=null==f?void 0:null===(t=f.jobRuns)||void 0===t?void 0:null===(s=t.edges)||void 0===s?void 0:null===(e=s[0])||void 0===e?void 0:e.node,b=(0,j.H)(w),O=("Pending"===b||"Running"===b)&&!(null==w?void 0:w.stdout);return l.useEffect(()=>{let e;return(null==w?void 0:w.createdAt)&&!(null==w?void 0:w.finishedAt)&&(e=window.setTimeout(()=>{N()},5e3)),()=>{e&&clearInterval(e)}},[w]),(0,n.jsx)(n.Fragment,{children:p?(0,n.jsx)(m.cg,{}):(0,n.jsx)("div",{className:"flex flex-1 flex-col items-stretch gap-2",children:w&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{onClick:()=>{window.history.length<=1?i.push("/jobs"):i.back()},className:"-ml-1 flex cursor-pointer items-center transition-opacity hover:opacity-60",children:[(0,n.jsx)(h.IconChevronLeft,{className:"mr-1 h-6 w-6"}),(0,n.jsx)("h2",{className:"scroll-m-20 text-3xl font-bold tracking-tight first:mt-0",children:(0,j.Y)(w.job)})]}),(0,n.jsxs)("div",{className:"mb-2 flex gap-x-5 text-sm text-muted-foreground lg:gap-x-10",children:[(0,n.jsxs)("div",{className:"flex items-center gap-1",children:[(0,n.jsx)(h.IconStopWatch,{}),(0,n.jsxs)("p",{children:["State: ",b]})]}),w.createdAt&&(0,n.jsxs)("div",{className:"flex items-center gap-1",children:[(0,n.jsx)(h.IconClock,{}),(0,n.jsxs)("p",{children:["Created:"," ",o()(w.createdAt).format("YYYY-MM-DD HH:mm")]})]}),w.startedAt&&(0,n.jsxs)("div",{className:"flex items-center gap-1",children:[(0,n.jsx)(h.IconClock,{}),(0,n.jsxs)("p",{children:["Started:"," ",o()(w.startedAt).format("YYYY-MM-DD HH:mm")]})]}),w.createdAt&&w.finishedAt&&(0,n.jsxs)("div",{className:"flex items-center gap-1",children:[(0,n.jsx)(h.IconHistory,{}),(0,n.jsxs)("p",{children:["Duration:"," ",a()(o().duration(o()(w.finishedAt).diff(w.startedAt)).asMilliseconds())]})]})]}),(0,n.jsx)("div",{className:"flex flex-1 flex-col",children:(0,n.jsx)(g,{value:null==w?void 0:w.stdout,pending:O})})]})})})}function g(e){let{children:s,className:t,value:l,pending:r,...c}=e;return(0,n.jsxs)("div",{className:(0,f.cn)("relative mt-2 h-[72vh] w-full overflow-y-auto overflow-x-hidden rounded-lg border bg-gray-50 font-mono text-[0.9rem] dark:bg-gray-800",t),...c,children:[r&&!l&&(0,n.jsx)("div",{className:"absolute inset-0 flex items-center justify-center bg-background/60",children:(0,n.jsx)(h.IconSpinner,{className:"h-8 w-8"})}),l&&(0,n.jsx)("pre",{className:"whitespace-pre-wrap p-4",children:(0,n.jsx)(i.Z,{children:l})})]})}},17484:function(e,s,t){"use strict";t.d(s,{H:function(){return i},Y:function(){return r}});var n=t(74630);let l={scheduler_git:"Git",scheduler_github_gitlab:"Github / Gitlab",web_crawler:"Docs"};function r(e){return e in l?l[e]:e}function i(e){return e?(0,n.Z)(e.exitCode)?e.startedAt?"Running":"Pending":0===e.exitCode?"Success":"Failed":"Pending"}},90379:function(e,s,t){"use strict";t.d(s,{PF:function(){return a},cg:function(){return i},tB:function(){return c}});var n=t(36164),l=t(73492),r=t(3448);let i=e=>{let{className:s,...t}=e;return(0,n.jsxs)("div",{className:(0,l.cn)("space-y-3",s),...t,children:[(0,n.jsx)(r.O,{className:"h-4 w-full"}),(0,n.jsx)(r.O,{className:"h-4 w-full"}),(0,n.jsx)(r.O,{className:"h-4 w-full"}),(0,n.jsx)(r.O,{className:"h-4 w-full"})]})},c=e=>{let{className:s,...t}=e;return(0,n.jsx)(r.O,{className:(0,l.cn)("h-4 w-full",s),...t})},a=e=>{let{className:s,...t}=e;return(0,n.jsxs)("div",{className:(0,l.cn)("flex flex-col gap-3",s),...t,children:[(0,n.jsx)(r.O,{className:"h-4 w-[20%]"}),(0,n.jsx)(r.O,{className:"h-4 w-full"}),(0,n.jsx)(r.O,{className:"h-4 w-[20%]"}),(0,n.jsx)(r.O,{className:"h-4 w-full"})]})}},3448:function(e,s,t){"use strict";t.d(s,{O:function(){return r}});var n=t(36164),l=t(73492);function r(e){let{className:s,...t}=e;return(0,n.jsx)("div",{className:(0,l.cn)("h-4 animate-pulse rounded-md bg-border",s),...t})}}},function(e){e.O(0,[7565,8415,5811,55,3594,7651,1600,3492,1565,410,3375,5289,1744],function(){return e(e.s=93634)}),_N_E=e.O()}]);