(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6818],{72657:function(e,t,n){"use strict";n.d(t,{K:function(){return o}});var r=n(36164);n(3546);var s=n(12624),a=n(73492),i=n(31458),l=n(81565);function o(e){let{className:t,container:n,offset:o,...c}=e,d=(0,s.e)(o||0,n);return(0,r.jsxs)(i.z,{variant:"outline",size:"icon",className:(0,a.cn)("absolute right-4 top-1 z-10 bg-background transition-opacity duration-300 sm:right-8 md:top-2",d?"opacity-0":"opacity-100",t),onClick:()=>{n?n.scrollTo({top:n.scrollHeight,behavior:"smooth"}):window.scrollTo({top:document.body.offsetHeight,behavior:"smooth"})},...c,children:[(0,r.jsx)(l.IconArrowDown,{}),(0,r.jsx)("span",{className:"sr-only",children:"Scroll to bottom"})]})}},74787:function(e,t,n){"use strict";n.d(t,{GV:function(){return h},Gn:function(){return c},HV:function(){return u},K:function(){return x},U7:function(){return f},_t:function(){return p},db:function(){return m},xe:function(){return d}});var r=n(36164),s=n(31745),a=n(89502),i=n(74038),l=n(73492),o=n(81565);function c(e){let t=(0,l.eo)(e.filepath).filepath,n={fileItem:e,name:(0,l.UA)(t),filepath:t,category:"file",icon:(0,r.jsx)(o.IconFile,{})};try{return{id:JSON.stringify(e.filepath),...n}}catch(e){return{id:(0,l.x0)(),...n}}}function d(e){let t=(0,l.eo)(e.filepath).filepath;return{category:"symbol",id:e.label,name:e.label,filepath:t,fileItem:e,icon:(0,r.jsx)(s.Z,{className:"h-4 w-4"})}}function u(e){let t,n=e;for(;null!==(t=i.My.exec(e));)try{let e=t[1],r=JSON.parse(e),s=m(r),a=(0,l.UA)(s);n=n.replace(t[0],"@".concat(a))}catch(e){continue}for(;null!==(t=i.nk.exec(e));)try{let e=t[1],r=JSON.parse(e),s=r.label||"";n=n.replace(t[0],"@".concat(s))}catch(e){continue}return n}function m(e){return"filepath"in e?e.filepath:e.uri}function p(e){let t=[],n=0;return e.replace(i.My,(r,s,a)=>{let i=JSON.parse(s),o=(0,l.UA)("uri"in i?i.uri:i.filepath);a>n&&t.push({type:"text",text:e.slice(n,a)});try{t.push({type:"mention",attrs:{category:"file",fileItem:{filepath:JSON.parse(s)},label:o}})}catch(e){}return n=a+r.length,r}),e.replace(i.nk,(r,s,a)=>{let i=JSON.parse(s),l=i.label||"";a>n&&t.push({type:"text",text:e.slice(n,a)});try{t.push({type:"mention",attrs:{category:"symbol",fileItem:i,label:l}})}catch(e){}return n=a+r.length,r}),e.replace(i.Me,(r,s,a)=>(a>n&&t.push({type:"text",text:e.slice(n,a)}),"string"==typeof s&&s.trim()&&t.push({type:"mention",attrs:{category:"command",command:s.trim(),label:s.trim()}}),n=a+r.length,r)),n<e.length&&t.push({type:"text",text:e.slice(n)}),t}function f(e){let t=[];return e.state.doc.descendants(e=>{"mention"===e.type.name&&t.push(e.attrs)}),t}function x(e){return{id:e.id,name:e.name,category:"command",command:e.command,description:e.description,icon:(0,r.jsx)(a.Z,{className:"h-4 w-4"})}}function h(){return{id:"changes",name:"changes",command:"changes",description:"Adding git diff changes into context"}}},83171:function(e,t,n){"use strict";n.d(t,{fh:function(){return x},pf:function(){return m},t:function(){return p}});var r=n(36164),s=n(3546),a=n(2435),i=n(74038),l=n(18500),o=n(73492),c=n(33235),d=n(81565),u=n(74787);function m(e){let{kind:t,label:n,className:s}=e;return(0,r.jsxs)(a.T5,{as:"span",className:(0,o.cn)("source-mention rounded-sm px-1",s),children:[(0,r.jsx)(f,{kind:t,className:"self-center"}),(0,r.jsx)("span",{className:"whitespace-nowrap",children:n})]})}function p(e){let{kind:t,label:n,id:s}=e.node.attrs;return(0,r.jsx)(m,{kind:t,label:n,id:s})}function f(e){let{kind:t,...n}=e;switch(t){case l.ri.Doc:return(0,r.jsx)(d.IconEmojiBook,{...n});case l.ri.Web:return(0,r.jsx)(d.IconEmojiGlobe,{...n});case l.ri.Git:return(0,r.jsx)(d.IconCode,{...n});case l.ri.Github:return(0,r.jsx)(d.IconGitHub,{...n});case l.ri.Gitlab:return(0,r.jsx)(d.IconGitLab,{...n});default:return null}}function x(e){let{message:t,sources:n,className:a}=e,l=(0,s.useMemo)(()=>{if(!t)return null;let e=(0,c.Tu)(t),a=e.split(i.zf).map((e,t)=>{if(t%2==1){let s=e.replace(/\\/g,""),a=null==n?void 0:n.find(e=>e.sourceId===s);return a?(0,r.jsx)(m,{id:a.sourceId,kind:a.sourceKind,label:a.sourceName,className:"rounded-md border border-[#b3ada0] border-opacity-30 bg-[#e8e1d3] py-[1px] text-sm dark:bg-[#333333]"},"source-".concat(t)):null}return e}),l=a.map((e,t)=>{if(!e||s.isValidElement(e))return e;let n=e;return(n=(n=n.replace(i.Bt,(e,t)=>{try{if(t.startsWith("{")&&t.endsWith("}")){let e=JSON.parse(t),n=(0,u.db)(e),r=(0,o.UA)(n);return"@".concat(r)}return t}catch(t){return e}})).replace(i.vY,(e,t)=>{try{if(t.startsWith("{")&&t.endsWith("}")){let e=JSON.parse(t);if(e.label)return"@".concat(e.label);let n=(0,u.db)(e.filepath),r=(0,o.UA)(n),s=e.range?":".concat(e.range.start,"-").concat(e.range.end):"";return"@".concat(r).concat(s)}return t}catch(t){return e}})).replace(i.qv,(e,t)=>"@".concat(t.replace(/"/g,"")))});return l},[n,t]);return(0,r.jsx)("div",{className:(0,o.cn)(a),children:l})}},64219:function(e,t,n){"use strict";n.d(t,{Z:function(){return x}});var r=n(36164),s=n(62226),a=n.n(s),i=n(6797),l=n.n(i),o=n(74630),c=n(66686),d=n(73492),u=n(89811),m=n(63795),p=n(81565),f=n(52569);function x(e){var t;let{relevantDocument:n,enableDeveloperMode:s}=e,a=(0,d.Jd)(n),i=(0,d.XK)(n),l=(0,d.j9)(n),c=l?void 0:n.link,m=l?(0,r.jsxs)("span",{children:["Commit",(0,r.jsx)("span",{title:n.sha,className:"mb-1 ml-1 rounded bg-muted px-1 py-0.5",children:n.sha.slice(0,7)})]}):n.title,p=c?new URL(c):null,f=(0,d.LM)(n)?void 0:n.author,x=null==n?void 0:null===(t=n.extra)||void 0===t?void 0:t.score;return(0,r.jsx)("div",{className:"prose max-w-none break-words dark:prose-invert prose-p:leading-relaxed prose-pre:mt-1 prose-pre:p-0",children:(0,r.jsxs)("div",{className:"flex w-full flex-col gap-y-1 text-sm",children:[!!p&&(0,r.jsxs)("div",{className:"m-0 flex items-center space-x-1 text-xs leading-none text-muted-foreground",children:[(0,r.jsx)(u.V,{hostname:p.hostname,className:"m-0 mr-1 leading-none"}),(0,r.jsx)("p",{className:"m-0 leading-none",children:p.hostname})]}),(0,r.jsx)("p",{className:(0,d.cn)("m-0 font-bold leading-none",{"cursor-pointer transition-opacity hover:opacity-70":!!c}),onClick:()=>{c&&window.open(c)},children:m}),(0,r.jsxs)("div",{className:"mb-2 w-auto",children:[a&&(0,r.jsx)(g,{closed:n.closed,user:f}),i&&(0,r.jsx)(h,{merged:n.merged,user:f}),l&&(0,r.jsx)(v,{user:f})]}),(0,r.jsx)("p",{className:"m-0 line-clamp-4 leading-none",children:N((0,d.cx)(n))}),!!s&&!(0,o.Z)(x)&&(0,r.jsxs)("p",{className:"mt-4",children:["Score: ",x]})]})})}function h(e){let{merged:t,user:n}=e;return(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)(b,{merged:t}),(0,r.jsx)("div",{className:"flex flex-1 items-center gap-1.5",children:!!n&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(f.Yt,{user:n,className:"not-prose h-5 w-5 shrink-0"}),(0,r.jsx)("span",{className:"font-semibold text-muted-foreground",children:n.name||n.email})]})})]})}function g(e){let{closed:t,user:n}=e;return(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)(j,{closed:t}),(0,r.jsx)("div",{className:"flex flex-1 items-center gap-1.5",children:!!n&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(f.Yt,{user:n,className:"not-prose h-5 w-5 shrink-0"}),(0,r.jsx)("span",{className:"font-semibold text-muted-foreground",children:n.name||n.email})]})})]})}function v(e){let{user:t}=e;return(0,r.jsx)("div",{className:"flex items-center gap-3",children:(0,r.jsx)("div",{className:"flex flex-1 items-center gap-1.5",children:!!t&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(f.Yt,{user:t,className:"not-prose h-5 w-5 shrink-0"}),(0,r.jsx)("span",{className:"font-semibold text-muted-foreground",children:t.name||t.email})]})})})}function j(e){let{closed:t}=e;return(0,r.jsxs)(m.C,{variant:t?"default":"secondary",className:"shrink-0 gap-1 py-1 text-xs",children:[t?(0,r.jsx)(p.IconCheckCircled,{className:"h-3.5 w-3.5"}):(0,r.jsx)(p.IconCircleDot,{className:"h-3.5 w-3.5"}),t?"Closed":"Open"]})}function b(e){let{merged:t}=e;return(0,r.jsxs)(m.C,{variant:t?"default":"secondary",className:"shrink-0 gap-1 py-1 text-xs",children:[t?(0,r.jsx)(p.IconGitMerge,{className:"h-3.5 w-3.5"}):(0,r.jsx)(p.IconGitPullRequest,{className:"h-3.5 w-3.5"}),t?"Merged":"Open"]})}let N=e=>{let t=a().sanitize(e,{ALLOWED_TAGS:[],ALLOWED_ATTR:[]}),n=c.TU.parse(t),r=l().decode(n),s=r.replace(/<\/?[^>]+(>|$)/g,"");return s}},54646:function(e,t,n){"use strict";n.d(t,{m:function(){return M},J:function(){return L}});var r=n(36164),s=n(3546),a=n(1853),i=n(74630),l=n(36982),o=n(17734),c=n(73492),d=n(90615),u=n(73033);n(80804);var m=n(31745),p=n(89502),f=n(74038),x=n(83171),h=n(81565),g=n(3448),v=n(94240),j=n(94744),b=n(37064),N=n(83008),y=n(28312),w=n(31458),k=n(29);let C=["sh","bash","zsh","fish","csh","tcsh","ksh","dash","cmd","powershell","pwsh","shell"],I=(0,s.memo)(e=>{let{language:t,value:n,onCopyContent:a,onApplyInEditor:i,canWrapLongLines:l,supportsOnApplyInEditorV2:o,runShell:c}=e,[d,u]=(0,s.useState)(!1),{isCopied:m,copyToClipboard:p}=(0,y.m)({timeout:2e3,onCopyContent:a});return(0,r.jsxs)("div",{className:"codeblock relative w-full bg-zinc-950 font-sans",children:[(0,r.jsxs)("div",{className:"flex w-full items-center justify-between bg-zinc-800 px-6 py-2 pr-4 text-zinc-100",children:[(0,r.jsx)("span",{className:"text-xs lowercase",children:t}),(0,r.jsxs)("div",{className:"flex items-center space-x-1",children:[c&&C.includes(t.toLowerCase())&&(0,r.jsxs)(k.u,{children:[(0,r.jsx)(k.aJ,{asChild:!0,children:(0,r.jsxs)(w.z,{variant:"ghost",size:"icon",className:"text-xs hover:bg-[#3C382F] hover:text-[#F4F4F5] focus-visible:ring-1 focus-visible:ring-slate-700 focus-visible:ring-offset-0",onClick:()=>{c&&C.includes(t.toLowerCase())&&c(n)},children:[(0,r.jsx)(v.Z,{className:"h-4 w-4"}),(0,r.jsx)("span",{className:"sr-only",children:"Run Command"})]})}),(0,r.jsx)(k._v,{children:(0,r.jsx)("p",{className:"m-0",children:"Run Command"})})]}),l&&(0,r.jsxs)(k.u,{children:[(0,r.jsx)(k.aJ,{asChild:!0,children:(0,r.jsx)(w.z,{size:"icon",variant:"ghost",className:"text-xs hover:bg-[#3C382F] hover:text-[#F4F4F5] focus-visible:ring-1 focus-visible:ring-slate-700 focus-visible:ring-offset-0",onClick:()=>u(!d),children:d?(0,r.jsx)(h.IconAlignJustify,{}):(0,r.jsx)(h.IconWrapText,{})})}),(0,r.jsx)(k._v,{children:(0,r.jsx)("p",{className:"m-0",children:"Toggle word wrap"})})]}),o&&i&&!(c&&C.includes(t.toLowerCase()))&&(0,r.jsxs)(k.u,{children:[(0,r.jsx)(k.aJ,{asChild:!0,children:(0,r.jsxs)(w.z,{variant:"ghost",size:"icon",className:"text-xs hover:bg-[#3C382F] hover:text-[#F4F4F5] focus-visible:ring-1 focus-visible:ring-slate-700 focus-visible:ring-offset-0",onClick:()=>i(n,{languageId:t,smart:!0}),children:[(0,r.jsx)(h.IconSmartApplyInEditor,{}),(0,r.jsx)("span",{className:"sr-only",children:"Smart Apply in Editor"})]})}),(0,r.jsx)(k._v,{children:(0,r.jsx)("p",{className:"m-0",children:"Smart Apply in Editor"})})]}),i&&!(c&&C.includes(t.toLowerCase()))&&(0,r.jsxs)(k.u,{children:[(0,r.jsx)(k.aJ,{asChild:!0,children:(0,r.jsxs)(w.z,{variant:"ghost",size:"icon",className:"text-xs hover:bg-[#3C382F] hover:text-[#F4F4F5] focus-visible:ring-1 focus-visible:ring-slate-700 focus-visible:ring-offset-0",onClick:()=>i(n,void 0),children:[(0,r.jsx)(h.IconApplyInEditor,{}),(0,r.jsx)("span",{className:"sr-only",children:"Apply in Editor"})]})}),(0,r.jsx)(k._v,{children:(0,r.jsx)("p",{className:"m-0",children:"Apply in Editor"})})]}),(0,r.jsxs)(k.u,{children:[(0,r.jsx)(k.aJ,{asChild:!0,children:(0,r.jsxs)(w.z,{variant:"ghost",size:"icon",className:"text-xs hover:bg-[#3C382F] hover:text-[#F4F4F5] focus-visible:ring-1 focus-visible:ring-slate-700 focus-visible:ring-offset-0",onClick:()=>{m||p(n)},children:[m?(0,r.jsx)(h.IconCheck,{}):(0,r.jsx)(h.IconCopy,{}),(0,r.jsx)("span",{className:"sr-only",children:"Copy"})]})}),(0,r.jsx)(k._v,{children:(0,r.jsx)("p",{className:"m-0",children:"Copy"})})]})]})]}),(0,r.jsx)(j.Z,{language:"toml"===t?"bash":t,style:N.RY,PreTag:"div",showLineNumbers:!0,wrapLongLines:d,customStyle:{margin:0,width:"100%",background:"transparent",padding:"1.5rem 1rem"},codeTagProps:{style:{fontSize:"0.9rem",fontFamily:"var(--font-mono)"}},renderer:e=>{let{rows:t,stylesheet:n,useInlineStyles:r}=e;return t.map((e,t)=>{let s=e.children,a=null==s?void 0:s.shift();return a&&(e.children=[a,{children:s,properties:{className:[]},tagName:"span",type:"element"}]),(0,b.ZP)({node:e,stylesheet:n,useInlineStyles:r,key:t})})},children:n})]})});I.displayName="CodeBlock";let A=(0,s.createContext)({});function z(e){var t;let{inline:n,className:a,children:i,...l}=e,{lookupSymbol:o,openInEditor:d,canWrapLongLines:u,onApplyInEditor:m,onCopyContent:p,supportsOnApplyInEditorV2:f,symbolPositionMap:x,runShell:g}=(0,s.useContext)(A),v=null===(t=i[0])||void 0===t?void 0:t.toString(),j=v?x.get(v):void 0;if((0,s.useEffect)(()=>{n&&o&&v&&o(v)},[n,v,o]),i.length){if("▍"===i[0])return(0,r.jsx)("span",{className:"mt-1 animate-pulse cursor-default",children:"▍"});i[0]=i[0].replace("`▍`","▍")}if(n){let e=!!(null==j?void 0:j.target);return(0,r.jsxs)("code",{className:(0,c.cn)("group/symbol",a,{symbol:!!o,"bg-muted leading-5 py-0.5":!!o&&!e,"space-x-1 cursor-pointer hover:bg-muted/50 border whitespace-nowrap align-middle py-0.5":e}),onClick:()=>{e&&d&&(null==j?void 0:j.target)&&d(j.target)},...l,children:[e&&(0,r.jsx)(h.IconSquareChevronRight,{className:"relative -top-px inline-block h-3.5 w-3.5 text-primary"}),(0,r.jsx)("span",{className:(0,c.cn)("whitespace-normal",{"group-hover/symbol:text-primary":e}),children:i})]})}let b=/language-(\w+)/.exec(a||"");return(0,r.jsx)(I,{language:b&&b[1]||"",value:String(i).replace(/\n$/,""),onApplyInEditor:m,onCopyContent:p,canWrapLongLines:u,supportsOnApplyInEditorV2:f,runShell:g})}var E=n(64219);function L(e){let{message:t,headline:n=!1,attachmentDocs:d,attachmentClientCode:m,attachmentCode:p,onApplyInEditor:x,onCopyContent:h,contextInfo:g,fetchingContextInfo:v,className:j,canWrapLongLines:b,onLookupSymbol:N,openInEditor:y,supportsOnApplyInEditorV2:w,activeSelection:k,runShell:C,...I}=e,[E,L]=(0,s.useState)(new Map),M=(0,s.useMemo)(()=>{var e,t,n;let r=null!==(e=null==d?void 0:d.map(e=>({type:"doc",data:e})))&&void 0!==e?e:[],s=null!==(t=null==m?void 0:m.map(e=>({type:"code",data:e})))&&void 0!==t?t:[],i=null!==(n=null==p?void 0:p.map(e=>({type:"code",data:e})))&&void 0!==n?n:[];return(0,a.Z)([...r,...s,...i])},[d,m,p]),R=e=>{let t=[],s=0,a=[],l=(t,n,r)=>{let s;for(t.lastIndex=0;null!==(s=t.exec(e));)a.push({pattern:t,Component:n,getProps:r,match:s})};for(let{match:o,Component:c,getProps:d}of(l(f.Hc,S,e=>{let t=parseInt(e[1],10),n=(0,i.Z)(t)?void 0:null==M?void 0:M[t-1],r=null==n?void 0:n.type,s=n&&!(0,i.Z)(t);return{citationIndex:t,showcitation:s,citationType:r,citationSource:n}}),l(f.zf,O,e=>{let t=e[1];return{sourceId:t,className:n?"text-[1rem] font-semibold":void 0}}),l(f.Bt,F,e=>{let t=e[1];try{return{encodedFilepath:t,openInEditor:y}}catch(e){return{}}}),l(f.vY,Y,e=>{let t=e[1];return{encodedSymbol:t,openInEditor:y}}),l(f.qv,Z,e=>{let t=e[1];return{encodedCommand:t}}),a.sort((e,t)=>e.match.index-t.match.index),a))o.index>=s&&(o.index>s&&t.push(e.slice(s,o.index)),t.push((0,r.jsx)(c,{...d(o)},o.index)),s=o.index+o[0].length);return s<e.length&&t.push(e.slice(s)),t},D=async e=>{if(!N||E.has(e))return;L(t=>new Map(t.set(e,null)));let t=[];null==m||m.forEach(e=>{var n;t.push({filepath:(0,c.hL)({filepath:e.filepath,baseDir:e.baseDir,gitUrl:e.gitUrl,commit:null!==(n=e.commit)&&void 0!==n?n:void 0}),location:(0,c.OV)(e)})});let n=await N(e,t);L(t=>new Map(t.set(e,n)))},J=(0,s.useMemo)(()=>(0,c.M0)(t),[t]);return(0,r.jsx)(A.Provider,{value:{onCopyContent:h,onApplyInEditor:x,onCodeCitationClick:I.onCodeCitationClick,onCodeCitationMouseEnter:I.onCodeCitationMouseEnter,onCodeCitationMouseLeave:I.onCodeCitationMouseLeave,contextInfo:g,fetchingContextInfo:!!v,canWrapLongLines:!!b,supportsOnApplyInEditorV2:w,activeSelection:k,symbolPositionMap:E,lookupSymbol:N?D:void 0,openInEditor:y,runShell:C},children:(0,r.jsx)(u.s,{className:(0,c.cn)("message-markdown prose max-w-none break-words dark:prose-invert prose-p:leading-relaxed prose-pre:mt-1 prose-pre:p-0",{"cursor-default":!!x},j),remarkPlugins:[l.Z,o.Z],components:{p(e){let{children:t}=e;return(0,r.jsx)("p",{className:"mb-2 last:mb-0",children:t.map((e,t)=>"string"==typeof e?e.split("\n").map((e,t)=>(0,r.jsxs)(s.Fragment,{children:[t>0&&(0,r.jsx)("br",{}),R(e)]},t)):(0,r.jsx)("span",{children:e},t))})},li(e){let{children:t}=e;return t&&t.length?(0,r.jsx)("li",{children:t.map((e,t)=>"string"==typeof e?R(e):(0,r.jsx)("span",{children:e},t))}):(0,r.jsx)("li",{children:t})},code(e){let{node:t,inline:n,className:s,children:a,...i}=e;return(0,r.jsx)(z,{node:t,inline:n,className:s,...i,children:a})},hr:()=>null},children:J})})}function M(e){let{error:t="Failed to fetch"}=e,n=(0,s.useMemo)(()=>"```\n"+JSON.stringify({error:!0,message:t},null,2)+"\n```",[t]);return(0,r.jsx)(u.s,{className:"prose-full-width prose break-words text-sm dark:prose-invert prose-p:leading-relaxed prose-pre:mt-1 prose-pre:p-0",remarkPlugins:[l.Z,o.Z],components:{code(e){let{node:t,inline:n,className:s,children:a,...i}=e;return(0,r.jsx)("div",{...i,className:(0,c.cn)(s,"bg-zinc-950 p-2"),children:a})}},children:n})}function S(e){let{citationIndex:t,showcitation:n,citationType:s,citationSource:a}=e;return(0,r.jsx)("span",{children:n&&(0,r.jsx)(r.Fragment,{children:"doc"===s?(0,r.jsx)(R,{relevantDocument:a.data,citationIndex:t}):"code"===s?(0,r.jsx)(D,{relevantCode:a.data,citationIndex:t}):null})})}function O(e){var t;let{sourceId:n,className:a}=e,{contextInfo:i,fetchingContextInfo:l}=(0,s.useContext)(A);if(!n)return null;let o=null==i?void 0:null===(t=i.sources)||void 0===t?void 0:t.find(e=>e.sourceId===n);return o?(0,r.jsx)("span",{className:"node-mention",children:(0,r.jsx)("span",{children:l?(0,r.jsx)(g.O,{className:"w-16"}):(0,r.jsx)(x.pf,{id:o.sourceId,label:o.sourceName,kind:o.sourceKind,className:a})})}):null}function F(e){let{encodedFilepath:t,openInEditor:n,className:a}=e,i=(0,s.useMemo)(()=>{if(!t)return null;try{let e=decodeURIComponent(t),n=JSON.parse(e);return n}catch(e){return null}},[t]),l=(0,s.useMemo)(()=>{if(i)return(0,c.eo)(i).filepath},[i]);return l?(0,r.jsxs)("span",{className:(0,c.cn)("symbol space-x-1 whitespace-nowrap border bg-muted py-0.5 align-middle leading-5",a,{"hover:bg-muted/50 cursor-pointer":!!n&&!!i}),onClick:()=>{n&&i&&n({filepath:i})},children:[(0,r.jsx)(h.IconFile,{className:"relative -top-px inline-block h-3.5 w-3.5"}),(0,r.jsx)("span",{className:(0,c.cn)("whitespace-normal font-medium"),children:(0,c.UA)(l)})]}):null}function Y(e){let{encodedSymbol:t,openInEditor:n,className:a}=e,i=(0,s.useMemo)(()=>{if(!t)return null;try{let e=decodeURIComponent(t);return JSON.parse(e)}catch(e){return null}},[t]);return(null==i?void 0:i.label)?(0,r.jsxs)("span",{className:(0,c.cn)("symbol space-x-1 whitespace-nowrap border bg-muted py-0.5 align-middle leading-5",a,{"hover:bg-muted/50 cursor-pointer":!!n}),onClick:()=>{n&&i&&n({filepath:i.filepath,location:i.range})},children:[(0,r.jsx)(m.Z,{className:"relative -top-px inline-block h-3.5 w-3.5"}),(0,r.jsx)("span",{className:"font-medium",children:i.label})]}):null}function Z(e){let{encodedCommand:t,className:n}=e,a=(0,s.useMemo)(()=>{if(!t)return null;try{let e=decodeURIComponent(t);return JSON.parse(e)}catch(e){return null}},[t]);return(0,r.jsxs)("span",{className:(0,c.cn)("symbol space-x-1 whitespace-nowrap border bg-muted py-0.5 align-middle leading-5",n),children:[(0,r.jsx)(p.Z,{className:"relative inline-block h-3.5 w-3.5"}),(0,r.jsx)("span",{className:"font-medium",children:a})]})}function R(e){let{relevantDocument:t,citationIndex:n}=e,s=(0,c.j9)(t)?void 0:t.link;return(0,r.jsxs)(d.zs,{openDelay:100,closeDelay:100,children:[(0,r.jsx)(d.Yi,{children:(0,r.jsx)("span",{className:(0,c.cn)("relative -top-2 mr-0.5 inline-block h-4 w-4 rounded-full bg-muted text-center text-xs font-medium",{"cursor-pointer":!!s}),onClick:()=>{s&&window.open(s)},children:n})}),(0,r.jsx)(d.bZ,{className:"w-96 bg-background text-sm text-foreground dark:border-muted-foreground/60",children:(0,r.jsx)(E.Z,{relevantDocument:t})})]})}function D(e){var t,n;let{relevantCode:a,citationIndex:l}=e,{onCodeCitationClick:o,onCodeCitationMouseEnter:u,onCodeCitationMouseLeave:m}=(0,s.useContext)(A),p=(0,s.useMemo)(()=>({kind:"file",range:(0,c.OV)(a),filepath:a.filepath||"",content:a.content,gitUrl:""}),[a]),f=p.range&&!(0,i.Z)(null===(t=p.range)||void 0===t?void 0:t.start)&&!(0,i.Z)(null===(n=p.range)||void 0===n?void 0:n.end)&&p.range.start<p.range.end,x=p.filepath.split("/"),g=x.slice(0,x.length-1).join("/"),v=(0,s.useMemo)(()=>(0,c.UA)(p.filepath),[p.filepath]),j=(0,s.useMemo)(()=>{if(!p.range)return;let e="";return p.range.start&&(e=String(p.range.start)),f&&(e+="-".concat(p.range.end)),e},[p.range]);return(0,r.jsxs)(d.zs,{openDelay:100,closeDelay:100,children:[(0,r.jsx)(d.Yi,{children:(0,r.jsx)("span",{className:"relative -top-2 mx-0.5 inline-block h-4 w-4 cursor-pointer rounded-full bg-muted text-center text-xs font-medium",onClick:()=>{null==o||o(a)},onMouseEnter:()=>{null==u||u(l)},onMouseLeave:()=>{null==m||m(l)},children:l})}),(0,r.jsx)(d.bZ,{className:"max-w-[90vw] overflow-x-hidden bg-background py-2 text-sm text-foreground dark:border-muted-foreground/60 md:py-4 lg:w-96",collisionPadding:8,children:(0,r.jsxs)("div",{className:"cursor-pointer space-y-2 hover:opacity-70",onClick:()=>null==o?void 0:o(a),children:[(0,r.jsxs)("div",{className:"flex items-center gap-1 overflow-hidden font-medium",children:[(0,r.jsx)(h.IconFileText,{className:"shrink-0"}),(0,r.jsxs)("span",{className:"flex-1 truncate",children:[(0,r.jsx)("span",{children:v}),j?(0,r.jsxs)("span",{className:"text-muted-foreground",children:[":",j]}):null]})]}),!!g&&(0,r.jsx)("div",{className:"break-all text-xs text-muted-foreground",children:g})]})})]})}},89811:function(e,t,n){"use strict";n.d(t,{V:function(){return c}});var r=n(36164),s=n(3546),a=n(42891),i=n.n(a),l={src:"/_next/static/media/default-favicon.a2df8fbb.png",height:16,width:16,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAYAAADED76LAAABAElEQVR42mOAAqaMgrXeIYlL2jwjF7WZey7wBolB5eyZotNX1PdMO/Br466r/89dfvx/w7aLv6LSlteDFem5zPPesPXir20Hbv7ftPfGrz9///969urL/xkLj/0KjlvqzZCct6rt9r3X/w+cvP/r8fOP/0Hg/uN3vzbsvPq/rmVzG0Nk+oq2J8/f///89devOw/f/n/7/uv/T19+/Dpx7uH/3NK1bQwMarO8tu66/Auk89qd17/mrzn/682H7//3H7rxi4FhsheDDYMhU0DC0vqde6/+On/lyf/5q878X7Tq9M+E7JX1cJ/4MpgzMajO9ApNXtoWl7mszc5nvhdMEgB1uZJfA01kRAAAAABJRU5ErkJggg==",blurWidth:8,blurHeight:8},o=n(73492);function c(e){let{hostname:t,className:n}=e,[a,c]=(0,s.useState)(!1);return(0,r.jsxs)("div",{className:"relative h-3.5 w-3.5 shrink-0",children:[(0,r.jsx)(i(),{src:l,alt:t,width:14,height:14,className:(0,o.cn)("absolute left-0 top-0 z-0 h-3.5 w-3.5 rounded-full leading-none",n)}),(0,r.jsx)(i(),{src:"https://s2.googleusercontent.com/s2/favicons?sz=128&domain_url=".concat(t),alt:t,width:14,height:14,className:(0,o.cn)("relative z-10 h-3.5 w-3.5 rounded-full bg-card leading-none",n,{"opacity-0":!a}),onLoad:()=>{c(!0)}})]})}},37034:function(e,t,n){"use strict";n.d(t,{k:function(){return i}});var r=n(36164),s=n(18500),a=n(81565);function i(e){let{kind:t,gitIcon:n,...i}=e;switch(t){case s.ri.Doc:return(0,r.jsx)(a.IconEmojiBook,{...i});case s.ri.Web:return(0,r.jsx)(a.IconEmojiGlobe,{...i});case s.ri.Github:return(0,r.jsx)(a.IconGitHub,{...i});case s.ri.Gitlab:return(0,r.jsx)(a.IconGitLab,{...i});case s.ri.Git:return n||(0,r.jsx)(a.IconCode,{...i});default:return null}}},36065:function(e,t,n){"use strict";n.d(t,{di:function(){return f},e8:function(){return d},fu:function(){return m},mY:function(){return o},rb:function(){return u},sZ:function(){return c},zz:function(){return p}});var r=n(36164),s=n(3546),a=n(53241),i=n(93170),l=n(73492);n(30220);let o=s.forwardRef((e,t)=>{let{className:n,...s}=e;return(0,r.jsx)(a.mY,{ref:t,className:(0,l.cn)("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",n),...s})});o.displayName=a.mY.displayName;let c=s.forwardRef((e,t)=>{let{className:n,...s}=e;return(0,r.jsxs)("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[(0,r.jsx)(i.Z,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),(0,r.jsx)(a.mY.Input,{ref:t,className:(0,l.cn)("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",n),...s})]})});c.displayName=a.mY.Input.displayName;let d=s.forwardRef((e,t)=>{let{className:n,...s}=e;return(0,r.jsx)(a.mY.List,{ref:t,className:(0,l.cn)("max-h-[300px] overflow-y-auto overflow-x-hidden",n),...s})});d.displayName=a.mY.List.displayName;let u=s.forwardRef((e,t)=>(0,r.jsx)(a.mY.Empty,{ref:t,className:"py-6 text-center text-sm",...e}));u.displayName=a.mY.Empty.displayName;let m=s.forwardRef((e,t)=>{let{className:n,...s}=e;return(0,r.jsx)(a.mY.Group,{ref:t,className:(0,l.cn)("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",n),...s})});m.displayName=a.mY.Group.displayName;let p=s.forwardRef((e,t)=>{let{className:n,...s}=e;return(0,r.jsx)(a.mY.Separator,{ref:t,className:(0,l.cn)("-mx-1 h-px bg-border",n),...s})});p.displayName=a.mY.Separator.displayName;let f=s.forwardRef((e,t)=>{let{className:n,...s}=e;return(0,r.jsx)(a.mY.Item,{ref:t,className:(0,l.cn)("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none aria-disabled:pointer-events-none aria-disabled:opacity-50 aria-selected:bg-accent aria-selected:text-accent-foreground",n),...s})});f.displayName=a.mY.Item.displayName},30220:function(e,t,n){"use strict";n.d(t,{$N:function(){return x},Be:function(){return h},Vq:function(){return o},cN:function(){return f},cZ:function(){return m},fK:function(){return p},hg:function(){return c}});var r=n(36164),s=n(3546),a=n(4318),i=n(1663),l=n(73492);let o=a.fC,c=a.xz,d=a.h_;a.x8;let u=s.forwardRef((e,t)=>{let{className:n,...s}=e;return(0,r.jsx)(a.aV,{ref:t,className:(0,l.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",n),...s})});u.displayName=a.aV.displayName;let m=s.forwardRef((e,t)=>{let{className:n,children:s,...o}=e;return(0,r.jsxs)(d,{children:[(0,r.jsx)(u,{}),(0,r.jsxs)(a.VY,{ref:t,className:(0,l.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",n),...o,children:[s,(0,r.jsxs)(a.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,r.jsx)(i.Z,{className:"h-4 w-4"}),(0,r.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});m.displayName=a.VY.displayName;let p=e=>{let{className:t,...n}=e;return(0,r.jsx)("div",{className:(0,l.cn)("flex flex-col space-y-1.5 text-center sm:text-left",t),...n})};p.displayName="DialogHeader";let f=e=>{let{className:t,...n}=e;return(0,r.jsx)("div",{className:(0,l.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...n})};f.displayName="DialogFooter";let x=s.forwardRef((e,t)=>{let{className:n,...s}=e;return(0,r.jsx)(a.Dx,{ref:t,className:(0,l.cn)("text-lg font-semibold leading-none tracking-tight",n),...s})});x.displayName=a.Dx.displayName;let h=s.forwardRef((e,t)=>{let{className:n,...s}=e;return(0,r.jsx)(a.dk,{ref:t,className:(0,l.cn)("text-sm text-muted-foreground",n),...s})});h.displayName=a.dk.displayName},90615:function(e,t,n){"use strict";n.d(t,{Yi:function(){return o},bZ:function(){return c},zs:function(){return l}});var r=n(36164),s=n(3546),a=n(21030),i=n(73492);let l=a.fC,o=a.xz;a.h_;let c=s.forwardRef((e,t)=>{let{className:n,align:s="center",sideOffset:l=4,...o}=e;return(0,r.jsx)(a.VY,{ref:t,align:s,sideOffset:l,className:(0,i.cn)("z-50 w-64 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n),...o})});c.displayName=a.VY.displayName},84942:function(e,t,n){"use strict";n.d(t,{J2:function(){return l},xo:function(){return o},yk:function(){return c}});var r=n(36164),s=n(3546),a=n(83299),i=n(73492);let l=a.fC,o=a.xz;a.x8,a.h_,a.ee;let c=s.forwardRef((e,t)=>{let{className:n,sideOffset:s=4,...l}=e;return(0,r.jsx)(a.VY,{ref:t,sideOffset:s,className:(0,i.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow animate-in data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n),...l})});c.displayName=a.VY.displayName},21808:function(e,t,n){"use strict";n.d(t,{$6:function(){return a},$I:function(){return i},L8:function(){return s},ir:function(){return l},o0:function(){return r},rZ:function(){return o}});let r="name@yourcompany.com",s=20,a={DEMO_AUTO_LOGIN:"_tabby_demo_autologin"},i=48,l="NOT_FOUND",o="\n"},12624:function(e,t,n){"use strict";n.d(t,{e:function(){return a}});var r=n(3546),s=n(62940);function a(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0,[n,a]=r.useState(!1);return r.useEffect(()=>{if(t)return;let n=(0,s.Z)(()=>{a(window.innerHeight+window.scrollY>=document.body.offsetHeight-e)},100,{leading:!0});return window.addEventListener("scroll",n,{passive:!0}),window.addEventListener("resize",n,{passive:!0}),n(),()=>{window.removeEventListener("scroll",n),window.removeEventListener("resize",n)}},[e,t]),r.useEffect(()=>{if(!t)return;let n=(0,s.Z)(()=>{let{scrollTop:n,clientHeight:r,scrollHeight:s}=t;a(n+r>=s-e)},100,{leading:!0});return t.addEventListener("scroll",n,{passive:!0}),t.addEventListener("resize",n,{passive:!0}),n(),()=>{t.removeEventListener("scroll",n),t.removeEventListener("resize",n)}},[e,t]),n}},17451:function(e,t,n){"use strict";n.d(t,{Eg:function(){return d},UP:function(){return p},aK:function(){return o},qs:function(){return m},xt:function(){return u}});var r=n(27257),s=n(85654),a=n(73492);let i=["activeChatId","pendingUserMessage"],l={activeChatId:(0,a.x0)(),selectedModel:void 0,selectedRepoSourceId:void 0,enableActiveSelection:!0,pendingUserMessage:void 0},o=(0,r.Ue)()((0,s.tJ)(()=>({...l}),{name:"tabby-chat-storage",partialize:e=>Object.fromEntries(Object.entries(e).filter(e=>{let[t]=e;return!i.includes(t)})),version:1})),c=o.setState,d=e=>{c(()=>({selectedModel:e}))},u=e=>{c(()=>({selectedRepoSourceId:e}))},m=e=>{c(()=>({enableActiveSelection:e}))},p=e=>{c(()=>({pendingUserMessage:e}))}},80804:function(){}}]);