(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6818],{72657:function(e,n,t){"use strict";t.d(n,{K:function(){return o}});var r=t(36164);t(3546);var s=t(12624),a=t(73492),l=t(31458),i=t(81565);function o(e){let{className:n,container:t,offset:o,...c}=e,d=(0,s.e)(o||0,t);return(0,r.jsxs)(l.z,{variant:"outline",size:"icon",className:(0,a.cn)("absolute right-4 top-1 z-10 bg-background transition-opacity duration-300 sm:right-8 md:top-2",d?"opacity-0":"opacity-100",n),onClick:()=>{t?t.scrollTo({top:t.scrollHeight,behavior:"smooth"}):window.scrollTo({top:document.body.offsetHeight,behavior:"smooth"})},...c,children:[(0,r.jsx)(i.IconArrowDown,{}),(0,r.jsx)("span",{className:"sr-only",children:"Scroll to bottom"})]})}},83171:function(e,n,t){"use strict";t.d(n,{fh:function(){return f},pf:function(){return u},t:function(){return m}});var r=t(36164),s=t(3546),a=t(2435),l=t(74038),i=t(18500),o=t(73492),c=t(33235),d=t(81565);function u(e){let{kind:n,label:t,className:s}=e;return(0,r.jsxs)(a.T5,{as:"span",className:(0,o.cn)("source-mention rounded-sm px-1",s),children:[(0,r.jsx)(p,{kind:n,className:"self-center"}),(0,r.jsx)("span",{className:"whitespace-nowrap",children:t})]})}function m(e){let{kind:n,label:t,id:s}=e.node.attrs;return(0,r.jsx)(u,{kind:n,label:t,id:s})}function p(e){let{kind:n,...t}=e;switch(n){case i.ri.Doc:return(0,r.jsx)(d.IconEmojiBook,{...t});case i.ri.Web:return(0,r.jsx)(d.IconEmojiGlobe,{...t});case i.ri.Git:return(0,r.jsx)(d.IconCode,{...t});case i.ri.Github:return(0,r.jsx)(d.IconGitHub,{...t});case i.ri.Gitlab:return(0,r.jsx)(d.IconGitLab,{...t});default:return null}}function f(e){let{message:n,sources:t,className:a}=e,i=(0,s.useMemo)(()=>{if(!n)return null;let e=(0,c.Tu)(n),a=e.split(l.zf).map((e,n)=>{if(n%2==1){let s=e.replace(/\\/g,""),a=null==t?void 0:t.find(e=>e.sourceId===s);return a?(0,r.jsx)(u,{id:a.sourceId,kind:a.sourceKind,label:a.sourceName,className:"rounded-md border border-[#b3ada0] border-opacity-30 bg-[#e8e1d3] py-[1px] text-sm dark:bg-[#333333]"},"source-".concat(n)):null}return e}),i=a.map((e,n)=>{if(!e||s.isValidElement(e))return e;let t=e;return(t=(t=t.replace(l.Bt,(e,n)=>{try{if(n.startsWith("{")&&n.endsWith("}")){let e=JSON.parse(n),t=(0,o.UA)(e.filepath);return"@".concat(t)}return n}catch(n){return e}})).replace(l.vY,(e,n)=>{try{if(n.startsWith("{")&&n.endsWith("}")){let e=JSON.parse(n);if(e.label)return"@".concat(e.label);let t=(0,o.UA)(e.filepath),r=e.range?":".concat(e.range.start,"-").concat(e.range.end):"";return"@".concat(t).concat(r)}return n}catch(n){return e}})).replace(l.qv,(e,n)=>"@".concat(n.replace(/"/g,"")))});return i},[t,n]);return(0,r.jsx)("div",{className:(0,o.cn)(a),children:i})}},64219:function(e,n,t){"use strict";t.d(n,{Z:function(){return x}});var r=t(36164),s=t(62226),a=t.n(s),l=t(6797),i=t.n(l),o=t(74630),c=t(66686),d=t(73492),u=t(89811),m=t(63795),p=t(81565),f=t(52569);function x(e){var n;let{relevantDocument:t,enableDeveloperMode:s}=e,a=(0,d.Jd)(t),l=(0,d.XK)(t),i=(0,d.j9)(t),c=i?void 0:t.link,m=i?(0,r.jsxs)("span",{children:["Commit",(0,r.jsx)("span",{title:t.sha,className:"mb-1 ml-1 rounded bg-muted px-1 py-0.5",children:t.sha.slice(0,7)})]}):t.title,p=c?new URL(c):null,f=(0,d.LM)(t)?void 0:t.author,x=null==t?void 0:null===(n=t.extra)||void 0===n?void 0:n.score;return(0,r.jsx)("div",{className:"prose max-w-none break-words dark:prose-invert prose-p:leading-relaxed prose-pre:mt-1 prose-pre:p-0",children:(0,r.jsxs)("div",{className:"flex w-full flex-col gap-y-1 text-sm",children:[!!p&&(0,r.jsxs)("div",{className:"m-0 flex items-center space-x-1 text-xs leading-none text-muted-foreground",children:[(0,r.jsx)(u.V,{hostname:p.hostname,className:"m-0 mr-1 leading-none"}),(0,r.jsx)("p",{className:"m-0 leading-none",children:p.hostname})]}),(0,r.jsx)("p",{className:(0,d.cn)("m-0 font-bold leading-none",{"cursor-pointer transition-opacity hover:opacity-70":!!c}),onClick:()=>{c&&window.open(c)},children:m}),(0,r.jsxs)("div",{className:"mb-2 w-auto",children:[a&&(0,r.jsx)(g,{closed:t.closed,user:f}),l&&(0,r.jsx)(h,{merged:t.merged,user:f}),i&&(0,r.jsx)(v,{user:f})]}),(0,r.jsx)("p",{className:"m-0 line-clamp-4 leading-none",children:N((0,d.cx)(t))}),!!s&&!(0,o.Z)(x)&&(0,r.jsxs)("p",{className:"mt-4",children:["Score: ",x]})]})})}function h(e){let{merged:n,user:t}=e;return(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)(b,{merged:n}),(0,r.jsx)("div",{className:"flex flex-1 items-center gap-1.5",children:!!t&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(f.Yt,{user:t,className:"not-prose h-5 w-5 shrink-0"}),(0,r.jsx)("span",{className:"font-semibold text-muted-foreground",children:t.name||t.email})]})})]})}function g(e){let{closed:n,user:t}=e;return(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)(j,{closed:n}),(0,r.jsx)("div",{className:"flex flex-1 items-center gap-1.5",children:!!t&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(f.Yt,{user:t,className:"not-prose h-5 w-5 shrink-0"}),(0,r.jsx)("span",{className:"font-semibold text-muted-foreground",children:t.name||t.email})]})})]})}function v(e){let{user:n}=e;return(0,r.jsx)("div",{className:"flex items-center gap-3",children:(0,r.jsx)("div",{className:"flex flex-1 items-center gap-1.5",children:!!n&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(f.Yt,{user:n,className:"not-prose h-5 w-5 shrink-0"}),(0,r.jsx)("span",{className:"font-semibold text-muted-foreground",children:n.name||n.email})]})})})}function j(e){let{closed:n}=e;return(0,r.jsxs)(m.C,{variant:n?"default":"secondary",className:"shrink-0 gap-1 py-1 text-xs",children:[n?(0,r.jsx)(p.IconCheckCircled,{className:"h-3.5 w-3.5"}):(0,r.jsx)(p.IconCircleDot,{className:"h-3.5 w-3.5"}),n?"Closed":"Open"]})}function b(e){let{merged:n}=e;return(0,r.jsxs)(m.C,{variant:n?"default":"secondary",className:"shrink-0 gap-1 py-1 text-xs",children:[n?(0,r.jsx)(p.IconGitMerge,{className:"h-3.5 w-3.5"}):(0,r.jsx)(p.IconGitPullRequest,{className:"h-3.5 w-3.5"}),n?"Merged":"Open"]})}let N=e=>{let n=a().sanitize(e,{ALLOWED_TAGS:[],ALLOWED_ATTR:[]}),t=c.TU.parse(n),r=i().decode(t),s=r.replace(/<\/?[^>]+(>|$)/g,"");return s}},54646:function(e,n,t){"use strict";t.d(n,{m:function(){return L},J:function(){return E}});var r=t(36164),s=t(3546),a=t(1853),l=t(74630),i=t(36982),o=t(17734),c=t(73492),d=t(90615),u=t(73033);t(80804);var m=t(31745),p=t(89502),f=t(74038),x=t(83171),h=t(81565),g=t(3448),v=t(94240),j=t(94744),b=t(37064),N=t(83008),y=t(28312),w=t(31458),k=t(29);let C=(0,s.memo)(e=>{let{language:n,value:t,onCopyContent:a,onApplyInEditor:l,canWrapLongLines:i,supportsOnApplyInEditorV2:o,runShell:c}=e,[d,u]=(0,s.useState)(!1),{isCopied:m,copyToClipboard:p}=(0,y.m)({timeout:2e3,onCopyContent:a});return(0,r.jsxs)("div",{className:"codeblock relative w-full bg-zinc-950 font-sans",children:[(0,r.jsxs)("div",{className:"flex w-full items-center justify-between bg-zinc-800 px-6 py-2 pr-4 text-zinc-100",children:[(0,r.jsx)("span",{className:"text-xs lowercase",children:n}),(0,r.jsxs)("div",{className:"flex items-center space-x-1",children:[c&&"bash"===n&&(0,r.jsxs)(k.u,{children:[(0,r.jsx)(k.aJ,{asChild:!0,children:(0,r.jsxs)(w.z,{variant:"ghost",size:"icon",className:"text-xs hover:bg-[#3C382F] hover:text-[#F4F4F5] focus-visible:ring-1 focus-visible:ring-slate-700 focus-visible:ring-offset-0",onClick:()=>{c&&"bash"===n&&c(t)},children:[(0,r.jsx)(v.Z,{className:"h-4 w-4"}),(0,r.jsx)("span",{className:"sr-only",children:"Run Command"})]})}),(0,r.jsx)(k._v,{children:(0,r.jsx)("p",{className:"m-0",children:"Run Command"})})]}),i&&(0,r.jsxs)(k.u,{children:[(0,r.jsx)(k.aJ,{asChild:!0,children:(0,r.jsx)(w.z,{size:"icon",variant:"ghost",className:"text-xs hover:bg-[#3C382F] hover:text-[#F4F4F5] focus-visible:ring-1 focus-visible:ring-slate-700 focus-visible:ring-offset-0",onClick:()=>u(!d),children:d?(0,r.jsx)(h.IconAlignJustify,{}):(0,r.jsx)(h.IconWrapText,{})})}),(0,r.jsx)(k._v,{children:(0,r.jsx)("p",{className:"m-0",children:"Toggle word wrap"})})]}),o&&l&&!(c&&"bash"===n)&&(0,r.jsxs)(k.u,{children:[(0,r.jsx)(k.aJ,{asChild:!0,children:(0,r.jsxs)(w.z,{variant:"ghost",size:"icon",className:"text-xs hover:bg-[#3C382F] hover:text-[#F4F4F5] focus-visible:ring-1 focus-visible:ring-slate-700 focus-visible:ring-offset-0",onClick:()=>l(t,{languageId:n,smart:!0}),children:[(0,r.jsx)(h.IconSmartApplyInEditor,{}),(0,r.jsx)("span",{className:"sr-only",children:"Smart Apply in Editor"})]})}),(0,r.jsx)(k._v,{children:(0,r.jsx)("p",{className:"m-0",children:"Smart Apply in Editor"})})]}),l&&!(c&&"bash"===n)&&(0,r.jsxs)(k.u,{children:[(0,r.jsx)(k.aJ,{asChild:!0,children:(0,r.jsxs)(w.z,{variant:"ghost",size:"icon",className:"text-xs hover:bg-[#3C382F] hover:text-[#F4F4F5] focus-visible:ring-1 focus-visible:ring-slate-700 focus-visible:ring-offset-0",onClick:()=>l(t,void 0),children:[(0,r.jsx)(h.IconApplyInEditor,{}),(0,r.jsx)("span",{className:"sr-only",children:"Apply in Editor"})]})}),(0,r.jsx)(k._v,{children:(0,r.jsx)("p",{className:"m-0",children:"Apply in Editor"})})]}),(0,r.jsxs)(k.u,{children:[(0,r.jsx)(k.aJ,{asChild:!0,children:(0,r.jsxs)(w.z,{variant:"ghost",size:"icon",className:"text-xs hover:bg-[#3C382F] hover:text-[#F4F4F5] focus-visible:ring-1 focus-visible:ring-slate-700 focus-visible:ring-offset-0",onClick:()=>{m||p(t)},children:[m?(0,r.jsx)(h.IconCheck,{}):(0,r.jsx)(h.IconCopy,{}),(0,r.jsx)("span",{className:"sr-only",children:"Copy"})]})}),(0,r.jsx)(k._v,{children:(0,r.jsx)("p",{className:"m-0",children:"Copy"})})]})]})]}),(0,r.jsx)(j.Z,{language:"toml"===n?"bash":n,style:N.RY,PreTag:"div",showLineNumbers:!0,wrapLongLines:d,customStyle:{margin:0,width:"100%",background:"transparent",padding:"1.5rem 1rem"},codeTagProps:{style:{fontSize:"0.9rem",fontFamily:"var(--font-mono)"}},renderer:e=>{let{rows:n,stylesheet:t,useInlineStyles:r}=e;return n.map((e,n)=>{let s=e.children,a=null==s?void 0:s.shift();return a&&(e.children=[a,{children:s,properties:{className:[]},tagName:"span",type:"element"}]),(0,b.ZP)({node:e,stylesheet:t,useInlineStyles:r,key:n})})},children:t})]})});C.displayName="CodeBlock";let z=(0,s.createContext)({});function I(e){var n;let{inline:t,className:a,children:l,...i}=e,{lookupSymbol:o,openInEditor:d,canWrapLongLines:u,onApplyInEditor:m,onCopyContent:p,supportsOnApplyInEditorV2:f,symbolPositionMap:x,runShell:g}=(0,s.useContext)(z),v=null===(n=l[0])||void 0===n?void 0:n.toString(),j=v?x.get(v):void 0;if((0,s.useEffect)(()=>{t&&o&&v&&o(v)},[t,v,o]),l.length){if("▍"===l[0])return(0,r.jsx)("span",{className:"mt-1 animate-pulse cursor-default",children:"▍"});l[0]=l[0].replace("`▍`","▍")}if(t){let e=!!(null==j?void 0:j.target);return(0,r.jsxs)("code",{className:(0,c.cn)("group/symbol",a,{symbol:!!o,"bg-muted leading-5 py-0.5":!!o&&!e,"space-x-1 cursor-pointer hover:bg-muted/50 border whitespace-nowrap align-middle py-0.5":e}),onClick:()=>{e&&d&&(null==j?void 0:j.target)&&d(j.target)},...i,children:[e&&(0,r.jsx)(h.IconSquareChevronRight,{className:"relative -top-px inline-block h-3.5 w-3.5 text-primary"}),(0,r.jsx)("span",{className:(0,c.cn)("whitespace-normal",{"group-hover/symbol:text-primary":e}),children:l})]})}let b=/language-(\w+)/.exec(a||"");return(0,r.jsx)(C,{language:b&&b[1]||"",value:String(l).replace(/\n$/,""),onApplyInEditor:m,onCopyContent:p,canWrapLongLines:u,supportsOnApplyInEditorV2:f,runShell:g})}var A=t(64219);function E(e){let{message:n,headline:t=!1,attachmentDocs:d,attachmentClientCode:m,attachmentCode:p,onApplyInEditor:x,onCopyContent:h,contextInfo:g,fetchingContextInfo:v,className:j,canWrapLongLines:b,onLookupSymbol:N,openInEditor:y,supportsOnApplyInEditorV2:w,activeSelection:k,runShell:C,...A}=e,[E,L]=(0,s.useState)(new Map),Z=(0,s.useMemo)(()=>{var e,n,t;let r=null!==(e=null==d?void 0:d.map(e=>({type:"doc",data:e})))&&void 0!==e?e:[],s=null!==(n=null==m?void 0:m.map(e=>({type:"code",data:e})))&&void 0!==n?n:[],l=null!==(t=null==p?void 0:p.map(e=>({type:"code",data:e})))&&void 0!==t?t:[];return(0,a.Z)([...r,...s,...l])},[d,m,p]),R=e=>{let n=[],s=0,a=[],i=(n,t,r)=>{let s;for(n.lastIndex=0;null!==(s=n.exec(e));)a.push({pattern:n,Component:t,getProps:r,match:s})};for(let{match:o,Component:c,getProps:d}of(i(f.Hc,M,e=>{let n=parseInt(e[1],10),t=(0,l.Z)(n)?void 0:null==Z?void 0:Z[n-1],r=null==t?void 0:t.type,s=t&&!(0,l.Z)(n);return{citationIndex:n,showcitation:s,citationType:r,citationSource:t}}),i(f.zf,F,e=>{let n=e[1];return{sourceId:n,className:t?"text-[1rem] font-semibold":void 0}}),i(f.Bt,S,e=>{let n=e[1];try{return{encodedFilepath:n,openInEditor:y}}catch(e){return{}}}),i(f.vY,Y,e=>{let n=e[1];return{encodedSymbol:n,openInEditor:y}}),i(f.qv,O,e=>{let n=e[1];return{encodedCommand:n}}),a.sort((e,n)=>e.match.index-n.match.index),a))o.index>=s&&(o.index>s&&n.push(e.slice(s,o.index)),n.push((0,r.jsx)(c,{...d(o)},o.index)),s=o.index+o[0].length);return s<e.length&&n.push(e.slice(s)),n},D=async e=>{if(!N||E.has(e))return;L(n=>new Map(n.set(e,null)));let n=[];null==m||m.forEach(e=>{var t;n.push({filepath:(0,c.hL)({filepath:e.filepath,baseDir:e.baseDir,gitUrl:e.gitUrl,commit:null!==(t=e.commit)&&void 0!==t?t:void 0}),location:(0,c.OV)(e)})});let t=await N(e,n);L(n=>new Map(n.set(e,t)))},_=(0,s.useMemo)(()=>(0,c.M0)(n),[n]);return(0,r.jsx)(z.Provider,{value:{onCopyContent:h,onApplyInEditor:x,onCodeCitationClick:A.onCodeCitationClick,onCodeCitationMouseEnter:A.onCodeCitationMouseEnter,onCodeCitationMouseLeave:A.onCodeCitationMouseLeave,contextInfo:g,fetchingContextInfo:!!v,canWrapLongLines:!!b,supportsOnApplyInEditorV2:w,activeSelection:k,symbolPositionMap:E,lookupSymbol:N?D:void 0,openInEditor:y,runShell:C},children:(0,r.jsx)(u.s,{className:(0,c.cn)("message-markdown prose max-w-none break-words dark:prose-invert prose-p:leading-relaxed prose-pre:mt-1 prose-pre:p-0",{"cursor-default":!!x},j),remarkPlugins:[i.Z,o.Z],components:{p(e){let{children:n}=e;return(0,r.jsx)("p",{className:"mb-2 last:mb-0",children:n.map((e,n)=>"string"==typeof e?e.split("\n").map((e,n)=>(0,r.jsxs)(s.Fragment,{children:[n>0&&(0,r.jsx)("br",{}),R(e)]},n)):(0,r.jsx)("span",{children:e},n))})},li(e){let{children:n}=e;return n&&n.length?(0,r.jsx)("li",{children:n.map((e,n)=>"string"==typeof e?R(e):(0,r.jsx)("span",{children:e},n))}):(0,r.jsx)("li",{children:n})},code(e){let{node:n,inline:t,className:s,children:a,...l}=e;return(0,r.jsx)(I,{node:n,inline:t,className:s,...l,children:a})},hr:()=>null},children:_})})}function L(e){let{error:n="Failed to fetch"}=e,t=(0,s.useMemo)(()=>"```\n"+JSON.stringify({error:!0,message:n},null,2)+"\n```",[n]);return(0,r.jsx)(u.s,{className:"prose-full-width prose break-words text-sm dark:prose-invert prose-p:leading-relaxed prose-pre:mt-1 prose-pre:p-0",remarkPlugins:[i.Z,o.Z],components:{code(e){let{node:n,inline:t,className:s,children:a,...l}=e;return(0,r.jsx)("div",{...l,className:(0,c.cn)(s,"bg-zinc-950 p-2"),children:a})}},children:t})}function M(e){let{citationIndex:n,showcitation:t,citationType:s,citationSource:a}=e;return(0,r.jsx)("span",{children:t&&(0,r.jsx)(r.Fragment,{children:"doc"===s?(0,r.jsx)(Z,{relevantDocument:a.data,citationIndex:n}):"code"===s?(0,r.jsx)(R,{relevantCode:a.data,citationIndex:n}):null})})}function F(e){var n;let{sourceId:t,className:a}=e,{contextInfo:l,fetchingContextInfo:i}=(0,s.useContext)(z);if(!t)return null;let o=null==l?void 0:null===(n=l.sources)||void 0===n?void 0:n.find(e=>e.sourceId===t);return o?(0,r.jsx)("span",{className:"node-mention",children:(0,r.jsx)("span",{children:i?(0,r.jsx)(g.O,{className:"w-16"}):(0,r.jsx)(x.pf,{id:o.sourceId,label:o.sourceName,kind:o.sourceKind,className:a})})}):null}function S(e){let{encodedFilepath:n,openInEditor:t,className:a}=e,l=(0,s.useMemo)(()=>{if(!n)return null;try{let e=decodeURIComponent(n),t=JSON.parse(e);return t}catch(e){return null}},[n]),i=(0,s.useMemo)(()=>{if(l)return(0,c.eo)(l).filepath},[l]);return i?(0,r.jsxs)("span",{className:(0,c.cn)("symbol space-x-1 whitespace-nowrap border bg-muted py-0.5 align-middle leading-5",a,{"hover:bg-muted/50 cursor-pointer":!!t&&!!l}),onClick:()=>{t&&l&&t({filepath:l})},children:[(0,r.jsx)(h.IconFile,{className:"relative -top-px inline-block h-3.5 w-3.5"}),(0,r.jsx)("span",{className:(0,c.cn)("whitespace-normal font-medium"),children:(0,c.UA)(i)})]}):null}function Y(e){let{encodedSymbol:n,openInEditor:t,className:a}=e,l=(0,s.useMemo)(()=>{if(!n)return null;try{let e=decodeURIComponent(n);return JSON.parse(e)}catch(e){return null}},[n]);return(null==l?void 0:l.label)?(0,r.jsxs)("span",{className:(0,c.cn)("symbol space-x-1 whitespace-nowrap border bg-muted py-0.5 align-middle leading-5",a,{"hover:bg-muted/50 cursor-pointer":!!t}),onClick:()=>{t&&l&&t({filepath:l.filepath,location:l.range})},children:[(0,r.jsx)(m.Z,{className:"relative -top-px inline-block h-3.5 w-3.5"}),(0,r.jsx)("span",{className:"font-medium",children:l.label})]}):null}function O(e){let{encodedCommand:n,className:t}=e,a=(0,s.useMemo)(()=>{if(!n)return null;try{let e=decodeURIComponent(n);return JSON.parse(e)}catch(e){return null}},[n]);return(0,r.jsxs)("span",{className:(0,c.cn)("symbol space-x-1 whitespace-nowrap border bg-muted py-0.5 align-middle leading-5",t),children:[(0,r.jsx)(p.Z,{className:"relative inline-block h-3.5 w-3.5"}),(0,r.jsx)("span",{className:"font-medium",children:a})]})}function Z(e){let{relevantDocument:n,citationIndex:t}=e,s=(0,c.j9)(n)?void 0:n.link;return(0,r.jsxs)(d.zs,{openDelay:100,closeDelay:100,children:[(0,r.jsx)(d.Yi,{children:(0,r.jsx)("span",{className:(0,c.cn)("relative -top-2 mr-0.5 inline-block h-4 w-4 rounded-full bg-muted text-center text-xs font-medium",{"cursor-pointer":!!s}),onClick:()=>{s&&window.open(s)},children:t})}),(0,r.jsx)(d.bZ,{className:"w-96 bg-background text-sm text-foreground dark:border-muted-foreground/60",children:(0,r.jsx)(A.Z,{relevantDocument:n})})]})}function R(e){var n,t;let{relevantCode:a,citationIndex:i}=e,{onCodeCitationClick:o,onCodeCitationMouseEnter:u,onCodeCitationMouseLeave:m}=(0,s.useContext)(z),p=(0,s.useMemo)(()=>({kind:"file",range:(0,c.OV)(a),filepath:a.filepath||"",content:a.content,gitUrl:""}),[a]),f=p.range&&!(0,l.Z)(null===(n=p.range)||void 0===n?void 0:n.start)&&!(0,l.Z)(null===(t=p.range)||void 0===t?void 0:t.end)&&p.range.start<p.range.end,x=p.filepath.split("/"),g=x.slice(0,x.length-1).join("/"),v=(0,s.useMemo)(()=>(0,c.UA)(p.filepath),[p.filepath]),j=(0,s.useMemo)(()=>{if(!p.range)return;let e="";return p.range.start&&(e=String(p.range.start)),f&&(e+="-".concat(p.range.end)),e},[p.range]);return(0,r.jsxs)(d.zs,{openDelay:100,closeDelay:100,children:[(0,r.jsx)(d.Yi,{children:(0,r.jsx)("span",{className:"relative -top-2 mx-0.5 inline-block h-4 w-4 cursor-pointer rounded-full bg-muted text-center text-xs font-medium",onClick:()=>{null==o||o(a)},onMouseEnter:()=>{null==u||u(i)},onMouseLeave:()=>{null==m||m(i)},children:i})}),(0,r.jsx)(d.bZ,{className:"max-w-[90vw] overflow-x-hidden bg-background py-2 text-sm text-foreground dark:border-muted-foreground/60 md:py-4 lg:w-96",collisionPadding:8,children:(0,r.jsxs)("div",{className:"cursor-pointer space-y-2 hover:opacity-70",onClick:()=>null==o?void 0:o(a),children:[(0,r.jsxs)("div",{className:"flex items-center gap-1 overflow-hidden font-medium",children:[(0,r.jsx)(h.IconFileText,{className:"shrink-0"}),(0,r.jsxs)("span",{className:"flex-1 truncate",children:[(0,r.jsx)("span",{children:v}),j?(0,r.jsxs)("span",{className:"text-muted-foreground",children:[":",j]}):null]})]}),!!g&&(0,r.jsx)("div",{className:"break-all text-xs text-muted-foreground",children:g})]})})]})}},89811:function(e,n,t){"use strict";t.d(n,{V:function(){return c}});var r=t(36164),s=t(3546),a=t(42891),l=t.n(a),i={src:"/_next/static/media/default-favicon.a2df8fbb.png",height:16,width:16,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAYAAADED76LAAABAElEQVR42mOAAqaMgrXeIYlL2jwjF7WZey7wBolB5eyZotNX1PdMO/Br466r/89dfvx/w7aLv6LSlteDFem5zPPesPXir20Hbv7ftPfGrz9///969urL/xkLj/0KjlvqzZCct6rt9r3X/w+cvP/r8fOP/0Hg/uN3vzbsvPq/rmVzG0Nk+oq2J8/f///89devOw/f/n/7/uv/T19+/Dpx7uH/3NK1bQwMarO8tu66/Auk89qd17/mrzn/682H7//3H7rxi4FhsheDDYMhU0DC0vqde6/+On/lyf/5q878X7Tq9M+E7JX1cJ/4MpgzMajO9ApNXtoWl7mszc5nvhdMEgB1uZJfA01kRAAAAABJRU5ErkJggg==",blurWidth:8,blurHeight:8},o=t(73492);function c(e){let{hostname:n,className:t}=e,[a,c]=(0,s.useState)(!1);return(0,r.jsxs)("div",{className:"relative h-3.5 w-3.5 shrink-0",children:[(0,r.jsx)(l(),{src:i,alt:n,width:14,height:14,className:(0,o.cn)("absolute left-0 top-0 z-0 h-3.5 w-3.5 rounded-full leading-none",t)}),(0,r.jsx)(l(),{src:"https://s2.googleusercontent.com/s2/favicons?sz=128&domain_url=".concat(n),alt:n,width:14,height:14,className:(0,o.cn)("relative z-10 h-3.5 w-3.5 rounded-full bg-card leading-none",t,{"opacity-0":!a}),onLoad:()=>{c(!0)}})]})}},37034:function(e,n,t){"use strict";t.d(n,{k:function(){return l}});var r=t(36164),s=t(18500),a=t(81565);function l(e){let{kind:n,gitIcon:t,...l}=e;switch(n){case s.ri.Doc:return(0,r.jsx)(a.IconEmojiBook,{...l});case s.ri.Web:return(0,r.jsx)(a.IconEmojiGlobe,{...l});case s.ri.Github:return(0,r.jsx)(a.IconGitHub,{...l});case s.ri.Gitlab:return(0,r.jsx)(a.IconGitLab,{...l});case s.ri.Git:return t||(0,r.jsx)(a.IconCode,{...l});default:return null}}},36065:function(e,n,t){"use strict";t.d(n,{di:function(){return f},e8:function(){return d},fu:function(){return m},mY:function(){return o},rb:function(){return u},sZ:function(){return c},zz:function(){return p}});var r=t(36164),s=t(3546),a=t(53241),l=t(93170),i=t(73492);t(30220);let o=s.forwardRef((e,n)=>{let{className:t,...s}=e;return(0,r.jsx)(a.mY,{ref:n,className:(0,i.cn)("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",t),...s})});o.displayName=a.mY.displayName;let c=s.forwardRef((e,n)=>{let{className:t,...s}=e;return(0,r.jsxs)("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[(0,r.jsx)(l.Z,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),(0,r.jsx)(a.mY.Input,{ref:n,className:(0,i.cn)("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",t),...s})]})});c.displayName=a.mY.Input.displayName;let d=s.forwardRef((e,n)=>{let{className:t,...s}=e;return(0,r.jsx)(a.mY.List,{ref:n,className:(0,i.cn)("max-h-[300px] overflow-y-auto overflow-x-hidden",t),...s})});d.displayName=a.mY.List.displayName;let u=s.forwardRef((e,n)=>(0,r.jsx)(a.mY.Empty,{ref:n,className:"py-6 text-center text-sm",...e}));u.displayName=a.mY.Empty.displayName;let m=s.forwardRef((e,n)=>{let{className:t,...s}=e;return(0,r.jsx)(a.mY.Group,{ref:n,className:(0,i.cn)("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",t),...s})});m.displayName=a.mY.Group.displayName;let p=s.forwardRef((e,n)=>{let{className:t,...s}=e;return(0,r.jsx)(a.mY.Separator,{ref:n,className:(0,i.cn)("-mx-1 h-px bg-border",t),...s})});p.displayName=a.mY.Separator.displayName;let f=s.forwardRef((e,n)=>{let{className:t,...s}=e;return(0,r.jsx)(a.mY.Item,{ref:n,className:(0,i.cn)("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none aria-disabled:pointer-events-none aria-disabled:opacity-50 aria-selected:bg-accent aria-selected:text-accent-foreground",t),...s})});f.displayName=a.mY.Item.displayName},30220:function(e,n,t){"use strict";t.d(n,{$N:function(){return x},Be:function(){return h},Vq:function(){return o},cN:function(){return f},cZ:function(){return m},fK:function(){return p},hg:function(){return c}});var r=t(36164),s=t(3546),a=t(4318),l=t(1663),i=t(73492);let o=a.fC,c=a.xz,d=a.h_;a.x8;let u=s.forwardRef((e,n)=>{let{className:t,...s}=e;return(0,r.jsx)(a.aV,{ref:n,className:(0,i.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...s})});u.displayName=a.aV.displayName;let m=s.forwardRef((e,n)=>{let{className:t,children:s,...o}=e;return(0,r.jsxs)(d,{children:[(0,r.jsx)(u,{}),(0,r.jsxs)(a.VY,{ref:n,className:(0,i.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...o,children:[s,(0,r.jsxs)(a.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,r.jsx)(l.Z,{className:"h-4 w-4"}),(0,r.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});m.displayName=a.VY.displayName;let p=e=>{let{className:n,...t}=e;return(0,r.jsx)("div",{className:(0,i.cn)("flex flex-col space-y-1.5 text-center sm:text-left",n),...t})};p.displayName="DialogHeader";let f=e=>{let{className:n,...t}=e;return(0,r.jsx)("div",{className:(0,i.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",n),...t})};f.displayName="DialogFooter";let x=s.forwardRef((e,n)=>{let{className:t,...s}=e;return(0,r.jsx)(a.Dx,{ref:n,className:(0,i.cn)("text-lg font-semibold leading-none tracking-tight",t),...s})});x.displayName=a.Dx.displayName;let h=s.forwardRef((e,n)=>{let{className:t,...s}=e;return(0,r.jsx)(a.dk,{ref:n,className:(0,i.cn)("text-sm text-muted-foreground",t),...s})});h.displayName=a.dk.displayName},90615:function(e,n,t){"use strict";t.d(n,{Yi:function(){return o},bZ:function(){return c},zs:function(){return i}});var r=t(36164),s=t(3546),a=t(21030),l=t(73492);let i=a.fC,o=a.xz;a.h_;let c=s.forwardRef((e,n)=>{let{className:t,align:s="center",sideOffset:i=4,...o}=e;return(0,r.jsx)(a.VY,{ref:n,align:s,sideOffset:i,className:(0,l.cn)("z-50 w-64 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...o})});c.displayName=a.VY.displayName},84942:function(e,n,t){"use strict";t.d(n,{J2:function(){return i},xo:function(){return o},yk:function(){return c}});var r=t(36164),s=t(3546),a=t(83299),l=t(73492);let i=a.fC,o=a.xz;a.x8,a.h_,a.ee;let c=s.forwardRef((e,n)=>{let{className:t,sideOffset:s=4,...i}=e;return(0,r.jsx)(a.VY,{ref:n,sideOffset:s,className:(0,l.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow animate-in data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...i})});c.displayName=a.VY.displayName},21808:function(e,n,t){"use strict";t.d(n,{$6:function(){return a},$I:function(){return l},L8:function(){return s},ir:function(){return i},o0:function(){return r},rZ:function(){return o}});let r="name@yourcompany.com",s=20,a={DEMO_AUTO_LOGIN:"_tabby_demo_autologin"},l=48,i="NOT_FOUND",o="\n"},12624:function(e,n,t){"use strict";t.d(n,{e:function(){return a}});var r=t(3546),s=t(62940);function a(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1?arguments[1]:void 0,[t,a]=r.useState(!1);return r.useEffect(()=>{if(n)return;let t=(0,s.Z)(()=>{a(window.innerHeight+window.scrollY>=document.body.offsetHeight-e)},100,{leading:!0});return window.addEventListener("scroll",t,{passive:!0}),window.addEventListener("resize",t,{passive:!0}),t(),()=>{window.removeEventListener("scroll",t),window.removeEventListener("resize",t)}},[e,n]),r.useEffect(()=>{if(!n)return;let t=(0,s.Z)(()=>{let{scrollTop:t,clientHeight:r,scrollHeight:s}=n;a(t+r>=s-e)},100,{leading:!0});return n.addEventListener("scroll",t,{passive:!0}),n.addEventListener("resize",t,{passive:!0}),t(),()=>{n.removeEventListener("scroll",t),n.removeEventListener("resize",t)}},[e,n]),t}},17451:function(e,n,t){"use strict";t.d(n,{Eg:function(){return d},UP:function(){return p},aK:function(){return o},qs:function(){return m},xt:function(){return u}});var r=t(27257),s=t(85654),a=t(73492);let l=["activeChatId","pendingUserMessage"],i={activeChatId:(0,a.x0)(),selectedModel:void 0,selectedRepoSourceId:void 0,enableActiveSelection:!0,pendingUserMessage:void 0},o=(0,r.Ue)()((0,s.tJ)(()=>({...i}),{name:"tabby-chat-storage",partialize:e=>Object.fromEntries(Object.entries(e).filter(e=>{let[n]=e;return!l.includes(n)})),version:1})),c=o.setState,d=e=>{c(()=>({selectedModel:e}))},u=e=>{c(()=>({selectedRepoSourceId:e}))},m=e=>{c(()=>({enableActiveSelection:e}))},p=e=>{c(()=>({pendingUserMessage:e}))}},80804:function(){}}]);