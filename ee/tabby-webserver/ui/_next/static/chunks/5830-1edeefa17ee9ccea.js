(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5830],{37034:function(e,t,n){"use strict";n.d(t,{k:function(){return s}});var r=n(36164),o=n(18500),a=n(81565);function s(e){let{kind:t,gitIcon:n,...s}=e;switch(t){case o.ri.Doc:return(0,r.jsx)(a.IconEmojiBook,{...s});case o.ri.Web:return(0,r.jsx)(a.IconEmojiGlobe,{...s});case o.ri.Github:return(0,r.jsx)(a.IconGitHub,{...s});case o.ri.Gitlab:return(0,r.jsx)(a.IconGitLab,{...s});case o.ri.Git:return n||(0,r.jsx)(a.IconCode,{...s});default:return null}}},67689:function(e,t,n){"use strict";n.d(t,{Z:function(){return H}});var r=n(36164),o=n(3546),a=n(21808),s=n(9010),l=n(57288),i=n(29),d=n(6230);n(15812);var c=n(77246),u=n(94160),m=n(50292),f=n(59105),p=n(10155),x=n(19092),h=n(44516),g=n(16784),v=n(29952),b=n(83171);let j="mention",y=v.ZP.extend({addNodeView:()=>(0,h.fW)(b.t),renderText(e){let{node:t}=e;return"[[source:".concat(t.attrs.id,"]]")},addAttributes:()=>({id:{default:null,parseHTML:e=>e.getAttribute("data-id"),renderHTML:e=>e.id?{"data-id":e.id}:{}},label:{default:null,parseHTML:e=>e.getAttribute("data-label"),renderHTML:e=>e.label?{"data-label":e.label}:{}},kind:{default:null,parseHTML:e=>e.getAttribute("data-kind"),renderHTML:e=>e.kind?{"data-kind":e.kind}:{}}})});n(44750);var N=n(31022),w=n(45238),k=n(18500),C=n(81565);let I=(0,o.forwardRef)((e,t)=>{let{query:n,command:a,category:s}=e,{list:i,pending:d}=(0,o.useContext)(A),[c,u]=(0,o.useState)(0),m=(0,o.useMemo)(()=>{if(!(null==i?void 0:i.length))return[];let e=i.filter(e=>(0,l._q)(e.sourceKind)).map(e=>({type:"source",category:"doc",id:e.sourceId,label:e.sourceName,data:e})),t=i.filter(e=>(0,l.wO)(e.sourceKind)).map(e=>({type:"source",category:"code",id:e.sourceId,label:e.sourceName,data:e}));return"doc"===s?e:t},[s,i]),f=(0,o.useMemo)(()=>{if(!n)return m;let e=(0,w.go)(n,m,{key:e=>e.label});return e.map(e=>e.obj)},[n,m]),p=()=>{u((c+f.length-1)%f.length)},x=()=>{u((c+1)%f.length)},h=e=>{let t=f[e];t&&a({id:t.data.sourceId,label:t.label,kind:t.data.sourceKind})},g=()=>{h(c)};return(0,o.useEffect)(()=>u(0),[m]),(0,o.useImperativeHandle)(t,()=>({onKeyDown:e=>{let{event:t}=e;return"ArrowUp"===t.key?(p(),!0):"ArrowDown"===t.key?(x(),!0):"Enter"===t.key&&(g(),!0)}})),(0,r.jsx)("div",{className:"dropdown-menu max-h-[30vh] min-w-[20rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-2 text-popover-foreground shadow animate-in",children:d?(0,r.jsx)("div",{className:"px-2 py-1.5",children:(0,r.jsx)(C.IconSpinner,{})}):f.length?f.map((e,t)=>(0,r.jsx)(S,{onClick:()=>h(t),onMouseEnter:()=>u(t),title:e.label,data:e,isSelected:t===c},e.id)):(0,r.jsx)("div",{className:"px-2 py-1.5 text-sm text-muted-foreground",children:(null==m?void 0:m.length)?(0,r.jsx)("span",{children:"No matches results"}):(0,r.jsx)("span",{children:"No results"})})})});function R(e){let{kind:t}=e;switch(t){case k.ri.Doc:return(0,r.jsx)(C.IconEmojiBook,{});case k.ri.Web:return(0,r.jsx)(C.IconEmojiGlobe,{});case k.ri.Git:return(0,r.jsx)(C.IconCode,{});case k.ri.Github:return(0,r.jsx)(C.IconGitHub,{});case k.ri.Gitlab:return(0,r.jsx)(C.IconGitLab,{});default:return null}}function S(e){let{isSelected:t,data:n,...a}=e,s=(0,o.useRef)(null);return(0,o.useLayoutEffect)(()=>{if(t&&s.current){var e;null===(e=s.current)||void 0===e||e.scrollIntoView({block:"nearest",inline:"nearest"})}},[t]),(0,r.jsxs)("div",{className:(0,l.cn)("flex cursor-pointer gap-1 rounded-md px-2 py-1.5 text-sm",{"bg-accent text-accent-foreground":t}),...a,ref:s,children:[(0,r.jsx)("span",{className:"flex h-5 shrink-0 items-center",children:(0,r.jsx)(R,{kind:n.data.sourceKind})}),(0,r.jsx)("span",{className:"flex-1",children:n.label})]})}I.displayName="MetionList";let E=e=>{let t=e.getJSON(),n=[],r=0,o=e=>{var t,a;"text"===e.type?r+=(null==e?void 0:null===(t=e.text)||void 0===t?void 0:t.length)||0:"mention"===e.type&&(null==e?void 0:null===(a=e.attrs)||void 0===a?void 0:a.id)&&n.push({id:e.attrs.id,label:e.attrs.label,kind:e.attrs.kind}),e.content&&e.content.forEach(o)};return o(t),n};var M=e=>{let{disabled:t,category:n,placement:r,char:o="@",pluginKey:a}=e;return{render:()=>{let e,t;return{onStart:o=>{let a=E(o.editor);e=new h.M_(I,{props:{...o,mentions:a,category:n},editor:o.editor}),o.clientRect&&(t=(0,N.ZP)("body",{getReferenceClientRect:o.clientRect,appendTo:()=>document.body,content:e.element,showOnCreate:!0,interactive:!0,trigger:"manual",placement:r||"bottom-start",animation:"shift-away",maxWidth:"400px"}))},onUpdate(n){e.updateProps(n),n.clientRect&&t[0].setProps({getReferenceClientRect:n.clientRect})},onKeyDown(n){var r,o;return"Escape"===n.event.key?(t[0].hide(),!0):null!==(o=null===(r=e.ref)||void 0===r?void 0:r.onKeyDown(n))&&void 0!==o&&o},onExit(){t[0].destroy(),e.destroy()}}},char:o,pluginKey:a,command:e=>{var t,r,o;let{editor:a,range:s,props:i}=e;if("code"===n){!function(e,t,n){let r;let{doc:o}=e.state,a=e.state.selection.$from;o.descendants((e,t)=>!("mention"===e.type.name&&(0,l.wO)(e.attrs.kind))||(r=t,!1)),e.chain().deleteRange({from:t.from,to:t.to}).run();let s=void 0!==r,i=o.firstChild,d=s?[{type:j,attrs:n}]:[{type:j,attrs:n},{type:"text",text:" "}];if(i&&"paragraph"===i.type.name){let t=i.firstChild;if(t&&"mention"===t.type.name&&(0,l.wO)(t.attrs.kind)){let n=t.nodeSize;e.chain().deleteRange({from:1,to:1+n}).insertContentAt(1,d).focus().run()}else e.chain().insertContentAt(1,d).focus().run()}else e.chain().insertContentAt(0,d).focus().run();e.commands.focus(s?a.pos:a.pos+1)}(a,s,i);return}let d=a.view.state.selection.$to.nodeAfter,c=null==d?void 0:null===(t=d.text)||void 0===t?void 0:t.startsWith(" ");c&&(s.to+=1),a.chain().focus().insertContentAt(s,[{type:j,attrs:i},{type:"text",text:" "}]).run(),null===(o=a.view.dom.ownerDocument.defaultView)||void 0===o||null===(r=o.getSelection())||void 0===r||r.collapseToEnd()},allow:e=>{let{state:n,range:r}=e;if(t)return!1;let o=n.doc.resolve(r.from),a=n.schema.nodes[j],s=!!o.parent.type.contentMatch.matchType(a);return s}}};let z=new p.H$("mention-doc");new p.H$("mention-code");let Z=e=>x.hj.create({addKeyboardShortcuts(){return{Enter:t=>{let{editor:n}=t;return e(n),!0},"Shift-Enter":()=>this.editor.commands.first(e=>{let{commands:t}=e;return[()=>t.newlineInCode(),()=>t.createParagraphNear(),()=>t.liftEmptyBlock(),()=>t.splitBlock()]})}}}),A=o.createContext({}),T=(0,o.forwardRef)((e,t)=>{let{editable:n,content:s,contextInfo:i,fetchingContextInfo:d,submitting:p,onSubmit:x,placeholder:v,onBlur:b,onFocus:j,onUpdate:N,autoFocus:w,className:k,editorClassName:C,placement:I}=e,[R,S]=(0,o.useState)(!d),E=(0,g.d)(e=>{if(p)return;let t=e.getText({blockSeparator:a.rZ}).trim();t&&(null==x||x(e))}),T=(0,o.useMemo)(()=>null!=i&&!!i.sources&&i.sources.some(e=>(0,l._q)(e.sourceKind)),[null==i?void 0:i.sources]),Y=(0,h.jE)({editable:!!R&&n,immediatelyRender:!1,extensions:[c.Z,u.Z,f.Z,m.Z.configure({showOnlyWhenEditable:!1,placeholder:R?v||"Ask anything...":"Loading..."}),Z(e=>{E.current(e)}),y.configure({deleteTriggerWithBackspace:!0,HTMLAttributes:{class:"mention"},suggestion:M({category:"doc",char:"@",pluginKey:z,placement:"bottom"===I?"top-start":"bottom-start",disabled:!T})})],editorProps:{attributes:{class:(0,l.cn)("max-h-38 prose min-h-[3.5rem] max-w-none font-sans dark:prose-invert focus:outline-none prose-p:my-0",C)}},content:s,onBlur(e){null==b||b(e)},onFocus(e){null==j||j(e)},onUpdate(e){null==N||N(e)}},[R]);return((0,o.useImperativeHandle)(t,()=>({editor:Y})),(0,o.useLayoutEffect)(()=>{Y&&w&&Y.commands.focus()},[Y]),(0,o.useEffect)(()=>{d||R||S(!0)},[d]),Y)?(0,r.jsx)(A.Provider,{value:{list:null==i?void 0:i.sources,pending:!!d},children:(0,r.jsx)("div",{className:(0,l.cn)("text-area-autosize max-h-36 overflow-y-auto pr-1",k),children:(0,r.jsx)(h.kg,{editor:Y})})}):null});T.displayName="PromptEditor";var Y=n(31458),K=n(11208),_=n(3448),O=n(70834),P=n(36065),G=n(84942),L=n(37034);function F(e){let{repos:t,value:n,onChange:a,isInitializing:s}=e,[i,c]=(0,o.useState)(!1),u=(0,o.useRef)(null),m=e=>{a(e)},f=()=>{requestAnimationFrame(()=>{u.current&&(u.current.scrollTop=0)})},p=n?null==t?void 0:t.find(e=>e.sourceId===n):void 0,x=null==p?void 0:p.sourceName;return s||(null==t?void 0:t.length)?(0,r.jsx)(d.Z,{loading:s,fallback:(0,r.jsx)("div",{className:"w-full pl-2",children:(0,r.jsx)(_.O,{className:"h-3 w-[10rem]"})}),children:(0,r.jsxs)(G.J2,{open:i,onOpenChange:c,children:[(0,r.jsx)(G.xo,{className:"outline-none",asChild:!0,children:(0,r.jsxs)(Y.z,{variant:"ghost",className:"gap-2 px-1.5 py-1 font-normal text-foreground/90",title:x||"select codebase",children:[p?(0,r.jsx)(L.k,{kind:p.sourceKind,className:"h-3.5 w-3.5 shrink-0"}):(0,r.jsx)(C.IconFolderGit,{className:"shrink-0"}),(0,r.jsx)("div",{className:"flex flex-1 items-center gap-1.5 truncate break-all",children:(0,r.jsx)("span",{className:(0,l.cn)("truncate",{"text-muted-foreground":!x}),children:x||"Codebase"})})]})}),(0,r.jsx)(G.yk,{side:"bottom",align:"start",className:"max-h-[50vh] min-w-[20vw] max-w-[80vw] overflow-x-hidden rounded-md border bg-popover p-2 pb-0 text-popover-foreground shadow animate-in",children:(0,r.jsxs)(P.mY,{children:[(0,r.jsx)(P.sZ,{placeholder:"Select repository...",onValueChange:()=>{f()}}),(0,r.jsxs)(P.e8,{className:"max-h-[30vh]",ref:u,children:[(0,r.jsx)(P.rb,{children:"No repository found"}),(0,r.jsx)(P.fu,{children:null==t?void 0:t.map(e=>{let t=e.sourceId===n;return(0,r.jsxs)(P.di,{onSelect:()=>{m(e.sourceId),c(!1)},title:e.sourceName,children:[(0,r.jsx)(C.IconCheck,{className:(0,l.cn)("mr-1 shrink-0",e.sourceId===n?"opacity-100":"opacity-0")}),(0,r.jsxs)("div",{className:"flex flex-1 items-center gap-1 overflow-x-hidden",children:[(0,r.jsx)(L.k,{kind:e.sourceKind,className:"shrink-0"}),(0,r.jsx)("div",{className:(0,l.cn)("truncate",{"font-semibold":t}),children:e.sourceName})]})]},e.sourceId)})})]}),(0,r.jsx)(P.zz,{}),(0,r.jsx)(P.fu,{children:(0,r.jsx)(P.di,{disabled:!n,className:"flex justify-center",onSelect:()=>{a(void 0),c(!1)},children:"Clear"})})]})})]})}):null}function H(e){let{onSearch:t,modelName:n,onSelectModel:s,repoSourceId:c,onSelectRepo:u,className:m,placeholder:f,showBetaBadge:p,isLoading:x,autoFocus:h,loadingWithSpinning:g,cleanAfterSearch:v=!0,isFollowup:b,contextInfo:j,fetchingContextInfo:y,isInitializingResources:N,models:w}=e,[k,I]=(0,o.useState)(!1),[R,S]=(0,o.useState)(""),E=(0,o.useRef)(null),M=()=>{var e,t;null===(t=E.current)||void 0===t||null===(e=t.editor)||void 0===e||e.commands.focus()},z=e=>{s(e),setTimeout(()=>{M()})},Z=e=>{u(e),setTimeout(()=>{M()})},A=e=>{if(!e||x||N)return;let r=e.getText({blockSeparator:a.rZ}).trim();if(!r)return;let o=(0,l.b)(r,null==j?void 0:j.sources),s={...(0,l.G8)(o),modelName:n};if(t(r,s),v){var i,d;null===(d=E.current)||void 0===d||null===(i=d.editor)||void 0===i||i.chain().clearContent().focus().run(),S("")}},P=e=>{var t;let n=null===(t=E.current)||void 0===t?void 0:t.editor;n&&n.chain().focus().command(t=>{var n,r,o;let{tr:a,state:s}=t,{$from:l}=s.selection,i=0===l.parentOffset,d=null!==(o=null===(r=l.nodeBefore)||void 0===r?void 0:null===(n=r.text)||void 0===n?void 0:n.endsWith(" "))&&void 0!==o&&o;return i||d?a.insertText(e):a.insertText(" "+e),!0}).run()},{hasDocumentSource:G}=(0,o.useMemo)(()=>(0,l.xV)(null==j?void 0:j.sources),[null==j?void 0:j.sources]),L=(0,o.useMemo)(()=>null==j?void 0:j.sources.filter(e=>(0,l.wO)(e.sourceKind)),[null==j?void 0:j.sources]),H=!!(null==w?void 0:w.length),D=!!(null==L?void 0:L.length),q=H||D;return(0,r.jsxs)("div",{className:(0,l.cn)("relative w-full overflow-hidden rounded-xl border bg-background transition-all hover:border-ring dark:border-muted-foreground/60 dark:hover:border-muted-foreground",{"border-ring dark:border-muted-foreground":k},m),onClick:()=>{M()},children:[p&&(0,r.jsx)(V,{}),(0,r.jsxs)("div",{className:(0,l.cn)("flex items-end pr-4",{"min-h-[5.5rem]":!b,"min-h-[2.5rem]":b}),children:[(0,r.jsxs)("div",{className:"mr-1 flex-1 overflow-x-hidden pl-4",children:[(0,r.jsx)(T,{editable:!0,contextInfo:j,fetchingContextInfo:y,onSubmit:A,placeholder:f||"Ask anything...",autoFocus:h,onFocus:()=>I(!0),onBlur:()=>I(!1),onUpdate:e=>{let{editor:t}=e;return S(t.getText({blockSeparator:a.rZ}).trim())},ref:E,placement:b?"bottom":"top",className:(0,l.cn)("text-area-autosize resize-none rounded-lg !border-none bg-transparent !shadow-none !outline-none !ring-0 !ring-offset-0",{"py-3":!p,"py-4":p}),editorClassName:b&&q?"min-h-[1.75rem]":"min-h-[3.5em]"}),b&&q&&(0,r.jsxs)("div",{className:"-ml-2 mb-2 flex items-center gap-2",onClick:e=>e.stopPropagation(),children:[D&&(0,r.jsx)(F,{isInitializing:y,repos:L,value:c,onChange:Z}),D&&H&&(0,r.jsx)(K.Z,{orientation:"vertical",className:"h-5"}),H&&(0,r.jsx)(O.q,{isInitializing:N,models:w,value:n,onChange:z})]})]}),(0,r.jsx)("div",{className:(0,l.cn)("mb-3 flex items-center justify-between gap-2"),children:(0,r.jsxs)("div",{className:(0,l.cn)("flex items-center justify-center rounded-lg p-1 transition-all",{"bg-primary text-primary-foreground cursor-pointer":R.length>0,"!bg-muted !text-primary !cursor-default":x||0===R.length||N,"mr-1.5":!p}),onClick:()=>{var e;return A(null===(e=E.current)||void 0===e?void 0:e.editor)},children:[g&&x&&(0,r.jsx)(C.IconSpinner,{className:"h-4 w-4"}),(!g||!x)&&(0,r.jsx)(C.IconArrowRight,{className:"h-4 w-4"})]})})]}),!b&&(0,r.jsx)("div",{className:(0,l.cn)("flex items-center gap-2 border-t bg-[#F9F6EF] py-2 pl-2 pr-4 dark:border-muted-foreground/60 dark:bg-[#333333]"),onClick:e=>e.stopPropagation(),children:(0,r.jsxs)(d.Z,{loading:N||y,delay:0,fallback:(0,r.jsx)("div",{className:"flex h-8 w-[40%] items-center",children:(0,r.jsx)(_.O,{className:"h-4 w-full"})}),children:[(0,r.jsxs)(i.u,{children:[(0,r.jsx)(i.aJ,{asChild:!0,children:(0,r.jsxs)(Y.z,{variant:"ghost",className:"gap-2 px-1.5 py-1 text-foreground/90",onClick:e=>P("@"),disabled:!G,children:[(0,r.jsx)(C.IconAtSign,{}),"Documents"]})}),(0,r.jsx)(i._v,{className:"max-w-md",children:"Select a document to bring into context"})]}),(0,r.jsx)(K.Z,{orientation:"vertical",className:"h-5"}),(0,r.jsx)(F,{repos:L,value:c,onChange:Z,isInitializing:y}),!!(null==w?void 0:w.length)&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(K.Z,{orientation:"vertical",className:"h-5"}),(0,r.jsx)(O.q,{models:w,value:n,onChange:z})]})]})})]})}function V(){let{theme:e}=(0,s.X)();return(0,r.jsxs)(i.u,{delayDuration:0,children:[(0,r.jsx)(i.aJ,{asChild:!0,children:(0,r.jsx)("span",{className:"absolute -right-8 top-1 mr-3 rotate-45 rounded-none border-none py-0.5 pl-6 pr-5 text-xs text-primary",style:{background:"dark"===e?"#333":"#e8e1d3"},children:"Beta"})}),(0,r.jsx)(i._v,{sideOffset:-8,className:"max-w-md",children:(0,r.jsx)("p",{children:"Please note that the answer engine is still in its early stages, and certain functionalities, such as finding the correct code context and the quality of summarizations, still have room for improvement. If you encounter an issue and believe it can be enhanced, consider sharing it in our Slack community!"})})]})}},70834:function(e,t,n){"use strict";n.d(t,{q:function(){return c}});var r=n(36164),o=n(57288),a=n(62202),s=n(6230),l=n(31458),i=n(81565),d=n(3448);function c(e){let{models:t,value:n,onChange:c,isInitializing:u,triggerClassName:m}=e,f=e=>{c(e)};return(0,r.jsx)(s.Z,{loading:u,fallback:(0,r.jsx)("div",{className:"w-full pl-2",children:(0,r.jsx)(d.O,{className:"h-3 w-[20%]"})}),children:!!(null==t?void 0:t.length)&&(0,r.jsxs)(a.h_,{children:[(0,r.jsx)(a.$F,{asChild:!0,children:(0,r.jsxs)(l.z,{variant:"ghost",className:(0,o.cn)("gap-2 px-1.5 py-1 text-foreground/90",m),children:[(0,r.jsx)(i.IconBox,{}),n]})}),(0,r.jsx)(a.AW,{side:"bottom",align:"start",className:"dropdown-menu max-h-[30vh] min-w-[20rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-2 text-popover-foreground shadow animate-in",children:(0,r.jsx)(a._x,{value:n,onValueChange:c,children:t.map(e=>{let t=e===n;return(0,r.jsxs)(a.qB,{onClick:t=>{f(e),t.stopPropagation()},value:e,className:"cursor-pointer py-2 pl-3",children:[(0,r.jsx)(i.IconCheck,{className:(0,o.cn)("mr-2 shrink-0",e===n?"opacity-100":"opacity-0")}),(0,r.jsx)("span",{className:(0,o.cn)({"font-medium":t}),children:e})]},e)})})})]})})}},36065:function(e,t,n){"use strict";n.d(t,{di:function(){return p},e8:function(){return c},fu:function(){return m},mY:function(){return i},rb:function(){return u},sZ:function(){return d},zz:function(){return f}});var r=n(36164),o=n(3546),a=n(53241),s=n(93170),l=n(57288);n(30220);let i=o.forwardRef((e,t)=>{let{className:n,...o}=e;return(0,r.jsx)(a.mY,{ref:t,className:(0,l.cn)("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",n),...o})});i.displayName=a.mY.displayName;let d=o.forwardRef((e,t)=>{let{className:n,...o}=e;return(0,r.jsxs)("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[(0,r.jsx)(s.Z,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),(0,r.jsx)(a.mY.Input,{ref:t,className:(0,l.cn)("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",n),...o})]})});d.displayName=a.mY.Input.displayName;let c=o.forwardRef((e,t)=>{let{className:n,...o}=e;return(0,r.jsx)(a.mY.List,{ref:t,className:(0,l.cn)("max-h-[300px] overflow-y-auto overflow-x-hidden",n),...o})});c.displayName=a.mY.List.displayName;let u=o.forwardRef((e,t)=>(0,r.jsx)(a.mY.Empty,{ref:t,className:"py-6 text-center text-sm",...e}));u.displayName=a.mY.Empty.displayName;let m=o.forwardRef((e,t)=>{let{className:n,...o}=e;return(0,r.jsx)(a.mY.Group,{ref:t,className:(0,l.cn)("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",n),...o})});m.displayName=a.mY.Group.displayName;let f=o.forwardRef((e,t)=>{let{className:n,...o}=e;return(0,r.jsx)(a.mY.Separator,{ref:t,className:(0,l.cn)("-mx-1 h-px bg-border",n),...o})});f.displayName=a.mY.Separator.displayName;let p=o.forwardRef((e,t)=>{let{className:n,...o}=e;return(0,r.jsx)(a.mY.Item,{ref:t,className:(0,l.cn)("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none aria-disabled:pointer-events-none aria-disabled:opacity-50 aria-selected:bg-accent aria-selected:text-accent-foreground",n),...o})});p.displayName=a.mY.Item.displayName},30220:function(e,t,n){"use strict";n.d(t,{$N:function(){return x},Be:function(){return h},Vq:function(){return i},cN:function(){return p},cZ:function(){return m},fK:function(){return f},hg:function(){return d}});var r=n(36164),o=n(3546),a=n(4318),s=n(1663),l=n(57288);let i=a.fC,d=a.xz,c=a.h_;a.x8;let u=o.forwardRef((e,t)=>{let{className:n,...o}=e;return(0,r.jsx)(a.aV,{ref:t,className:(0,l.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",n),...o})});u.displayName=a.aV.displayName;let m=o.forwardRef((e,t)=>{let{className:n,children:o,...i}=e;return(0,r.jsxs)(c,{children:[(0,r.jsx)(u,{}),(0,r.jsxs)(a.VY,{ref:t,className:(0,l.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",n),...i,children:[o,(0,r.jsxs)(a.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,r.jsx)(s.Z,{className:"h-4 w-4"}),(0,r.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});m.displayName=a.VY.displayName;let f=e=>{let{className:t,...n}=e;return(0,r.jsx)("div",{className:(0,l.cn)("flex flex-col space-y-1.5 text-center sm:text-left",t),...n})};f.displayName="DialogHeader";let p=e=>{let{className:t,...n}=e;return(0,r.jsx)("div",{className:(0,l.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...n})};p.displayName="DialogFooter";let x=o.forwardRef((e,t)=>{let{className:n,...o}=e;return(0,r.jsx)(a.Dx,{ref:t,className:(0,l.cn)("text-lg font-semibold leading-none tracking-tight",n),...o})});x.displayName=a.Dx.displayName;let h=o.forwardRef((e,t)=>{let{className:n,...o}=e;return(0,r.jsx)(a.dk,{ref:t,className:(0,l.cn)("text-sm text-muted-foreground",n),...o})});h.displayName=a.dk.displayName},84942:function(e,t,n){"use strict";n.d(t,{J2:function(){return l},xo:function(){return i},yk:function(){return d}});var r=n(36164),o=n(3546),a=n(83299),s=n(57288);let l=a.fC,i=a.xz;a.x8,a.h_,a.ee;let d=o.forwardRef((e,t)=>{let{className:n,sideOffset:o=4,...l}=e;return(0,r.jsx)(a.VY,{ref:t,sideOffset:o,className:(0,s.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow animate-in data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n),...l})});d.displayName=a.VY.displayName},31159:function(e,t,n){"use strict";n.d(t,{Vq:function(){return i}});var r=n(3546),o=n(21454),a=n(27257),s=n(3765),l=n(17451);function i(){let{data:e,isLoading:t}=(0,o.ZP)("/v1beta/models",e=>(0,s.Z)(e,{errorHandler:()=>{throw Error("Fetch supported model failed.")}}),{shouldRetryOnError:!1}),n=(0,a.oR)(l.aK,e=>e.selectedModel);return(0,r.useEffect)(()=>{if(!t){let t=function(e,t){if(!(null==t?void 0:t.length))return;let n=!!e&&t.includes(e);return n?e:t[0]}(n,null==e?void 0:e.chat);(0,l.Eg)(t)}},[t]),{isFetchingModels:t,selectedModel:n,models:null==e?void 0:e.chat}}},4951:function(e,t,n){"use strict";n.d(t,{Q:function(){return l}});var r=n(3546),o=n(40055),a=n(17451),s=n(70410);function l(){let[{data:e,fetching:t}]=(0,o.aM)({query:s.K5}),n=null==e?void 0:e.repositoryList,l=(0,a.aK)(e=>e.selectedRepoSourceId),i=(0,r.useMemo)(()=>{if((null==n?void 0:n.length)&&l)return n.find(e=>e.sourceId===l)},[n,l]);return{repos:n,isFetchingRepositories:t,selectedRepository:i}}},17451:function(e,t,n){"use strict";n.d(t,{Eg:function(){return c},UP:function(){return f},aK:function(){return i},qs:function(){return m},xt:function(){return u}});var r=n(27257),o=n(85654),a=n(57288);let s=["activeChatId","pendingUserMessage"],l={activeChatId:(0,a.x0)(),selectedModel:void 0,selectedRepoSourceId:void 0,enableActiveSelection:!0,pendingUserMessage:void 0},i=(0,r.Ue)()((0,o.tJ)(()=>({...l}),{name:"tabby-chat-storage",partialize:e=>Object.fromEntries(Object.entries(e).filter(e=>{let[t]=e;return!s.includes(t)})),version:1})),d=i.setState,c=e=>{d(()=>({selectedModel:e}))},u=e=>{d(()=>({selectedRepoSourceId:e}))},m=e=>{d(()=>({enableActiveSelection:e}))},f=e=>{d(()=>({pendingUserMessage:e}))}},37266:function(e,t,n){"use strict";n.d(t,{CR:function(){return a},F0:function(){return l},wh:function(){return i}});var r=n(27257);let o={homePage:void 0},a=(0,r.Ue)()(()=>({...o})),s=a.setState,l=e=>s(()=>({homePage:e})),i=()=>s(()=>({homePage:void 0}))},15812:function(){}}]);